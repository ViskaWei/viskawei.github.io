{
  "generated_at": "2026-02-22T02:40:36.693Z",
  "total": 11,
  "standards": [
    {
      "id": "std-algo-latex-v1",
      "title": "Algorithm LaTeX Standard — Pseudocode + TikZ",
      "category": "visualization",
      "version": "1.0.0",
      "source_skill": "algo-plot-latex",
      "preview_type": "svg",
      "preview_content": "",
      "body_md": "# Algorithm LaTeX Standard\n\nPublication-quality LaTeX pseudocode and matching TikZ flowcharts for academic papers.\n\n## Pseudocode Formats\n\n### Option A: Inline Bold-Enumerate (lightweight)\n\n```latex\n\\vspace{2mm}\n\\noindent\\textbf{Algorithm N: [Title]}\n\\begin{enumerate}\n    \\item \\textbf{Input:} [describe inputs]\n    \\item \\textbf{Initialize:} [setup steps]\n    \\item \\textbf{Main Loop:} [core procedure]\n    \\begin{itemize}\n        \\item Step details with math: $formula$\n    \\end{itemize}\n    \\item \\textbf{Output:} [what is returned]\n\\end{enumerate}\n```\n\n### Option B: Formal Algorithm Environment\n\n```latex\n\\begin{algorithm}[h!]\n\\caption{Algorithm Title}\n\\label{alg:name}\n\\begin{algorithmic}[1]\n\\REQUIRE Input description\n\\ENSURE Output description\n\\STATE Initialize variables\n\\FOR{each iteration}\n    \\STATE Compute step\n\\ENDFOR\n\\RETURN result\n\\end{algorithmic}\n\\end{algorithm}\n```\n\n**Rule**: Match the paper's existing algorithm style exactly. Never mix formats.\n\n## TikZ Flowchart Standard\n\n### Default Color Palette\n\n```latex\n% Section backgrounds\n\\definecolor{secBlue}{RGB}{214,230,245}\n\\definecolor{secYellow}{RGB}{255,243,205}\n\\definecolor{secGreen}{RGB}{218,238,218}\n\\definecolor{secPurple}{RGB}{228,220,240}\n\n% Box fills\n\\definecolor{boxBlue}{RGB}{175,208,240}\n\\definecolor{boxYellow}{RGB}{248,228,160}\n\\definecolor{boxGreen}{RGB}{178,222,178}\n\\definecolor{boxPurple}{RGB}{198,182,218}\n\\definecolor{boxOrange}{RGB}{248,210,160}\n\\definecolor{boxGray}{RGB}{222,222,228}\n\\definecolor{accentGreen}{RGB}{200,232,200}\n\n% Text and arrows\n\\definecolor{arrowC}{RGB}{75,75,75}\n\\definecolor{labelC}{RGB}{55,55,55}\n\\definecolor{noteC}{RGB}{120,120,130}\n```\n\n### Node Styles\n\n| Style | Purpose | Key Properties |\n|-------|---------|----------------|\n| `stepbox` | Phase label (left column) | `draw=gray!55, fill=white, rounded corners=2pt, font=\\sffamily\\footnotesize\\bfseries` |\n| `mbox` | Main content box | `draw=gray!55, rounded corners=3pt, min-height=0.65cm, font=\\sffamily\\small` |\n| `sbox` | Secondary box | `draw=gray!45, rounded corners=3pt, min-height=0.52cm, font=\\sffamily\\footnotesize` |\n| `tbox` | Tertiary/detail box | `draw=gray!40, rounded corners=2pt, min-height=0.42cm, font=\\sffamily\\scriptsize` |\n\n### Flowchart Layout\n\nOrganize as horizontal colored bands, one per algorithm phase:\n\n```\n+-------------------------------------------+\n| [StepBox]  |  Phase 1 content             |  secBlue band\n+-------------------------------------------+\n| [StepBox]  |  Phase 2 content             |  secYellow band\n|            |  [a] -> [b] -> [c]           |  parallel sub-steps\n+-------------------------------------------+\n| [StepBox]  |  Phase 3 content             |  secGreen band\n+-------------------------------------------+\n| [StepBox]  |  Phase 4 content             |  secPurple band\n+-------------------------------------------+\n```\n\n### Rules\n\n1. **Style matching**: If the paper has existing flowcharts, reuse their colors, node styles, and layout grid exactly\n2. **Left column**: Step labels in `stepbox` style (\"Input\", \"Loop\", \"Solve\", \"Eval\")\n3. **Main area**: Boxes with formulas connected by arrows\n4. **Key equations**: Use `\\displaystyle` and `accentGreen` background for emphasis\n5. **Feedback loops**: Dashed arrows only\n6. **Notes**: Small gray text (`\\sffamily\\scriptsize, text=noteC`) for implementation details\n7. **Font**: `\\sffamily` throughout TikZ for clean sans-serif\n8. **Document class**: `\\documentclass[border=6pt]{standalone}` for auto-cropping\n9. **Max boxes per band**: 7 (split into sub-bands if more)\n\n### Compilation\n\n```bash\n# Compile standalone flowchart\ncd figures/ && pdflatex -interaction=nonstopmode flowchart.tex\n\n# Convert to PNG for preview\ngs -dNOPAUSE -dBATCH -sDEVICE=png16m -r200 \\\n   -sOutputFile=flowchart.png flowchart.pdf\n\n# Include in paper\n\\includegraphics[width=0.95\\textwidth]{figures/flowchart.pdf}\n```\n\n### Cross-Reference Checklist\n\nWhen inserting or renumbering algorithms:\n- Search all `Algorithm~N` references in the paper\n- Update captions, figure captions, conclusion text\n- Compile twice to resolve all references\n",
      "word_count": 417,
      "skill_count": 1,
      "skills_using": [
        "algo-plot-latex"
      ]
    },
    {
      "id": "std-doc-report-v1",
      "title": "Scientific Report Standard — LaTeX PDF Generation",
      "category": "documentation",
      "version": "1.0.0",
      "source_skill": "doc",
      "preview_type": "svg",
      "preview_content": "",
      "body_md": "# Scientific Report Standard\n\nGenerate comprehensive scientific reports in PDF using LaTeX, with automatic Chinese/English language selection.\n\n## Language Selection\n\n- **Default**: Chinese (use `ctex` + `xelatex`)\n- **English**: Only when user explicitly specifies \"English\", \"in English\", or \"英文\" (use standard LaTeX + `pdflatex`)\n\n## Report Structures\n\n### Research / Experiments (IMRAD)\n\n1. Abstract\n2. Introduction (background, motivation, objectives)\n3. Related Work (optional)\n4. Methodology (system design, algorithms, implementation)\n5. Experiments (setup, data, evaluation metrics)\n6. Results (data presentation, analysis)\n7. Discussion (findings, limitations, future work)\n8. Conclusion\n9. References\n\n### Systems / Projects\n\n1. Overview\n2. System Architecture\n3. Core Components\n4. Implementation\n5. Usage Examples\n6. Performance Evaluation\n7. Summary\n\n## LaTeX Template (Chinese)\n\n```latex\n\\documentclass[11pt,a4paper]{article}\n\\usepackage[UTF8]{ctex}\n\\usepackage{amsmath,amssymb,amsthm}\n\\usepackage{geometry}\n\\usepackage{graphicx}\n\\usepackage{booktabs}\n\\usepackage{longtable}\n\\usepackage{hyperref}\n\\usepackage{xcolor}\n\\usepackage{algorithm}\n\\usepackage{algorithmic}\n\\usepackage{enumitem}\n\\usepackage{fancyhdr}\n\\usepackage{tcolorbox}\n\\usepackage{listings}\n\n\\geometry{margin=2.5cm}\n\\hypersetup{colorlinks=true,linkcolor=blue,citecolor=blue,urlcolor=blue}\n\n\\pagestyle{fancy}\n\\fancyhf{}\n\\rhead{项目报告}\n\\lhead{系统名称}\n\\rfoot{\\thepage}\n\n\\author{Viska Wei}\n\\date{\\today}\n```\n\n## Compilation Rules\n\n| Language | Engine | Command |\n|----------|--------|---------|\n| Chinese (ctex) | XeLaTeX | `xelatex report.tex && xelatex report.tex` |\n| English | pdfLaTeX | `pdflatex report.tex && pdflatex report.tex` |\n\nAlways compile twice for table of contents and cross-references.\n\n## Formatting Rules\n\n1. **Author**: Always use \"Viska Wei\"\n2. **Margins**: 2.5cm (`\\geometry{margin=2.5cm}`)\n3. **Font size**: 11pt base\n4. **Paper**: A4\n5. **Hyperlinks**: Blue colored links enabled\n6. **Executive summary**: Use `tcolorbox` for key findings at the top\n7. **Table of contents**: Always include after title page\n8. **Code listings**: Use `listings` package with syntax highlighting\n9. **Tables**: Use `booktabs` (`\\toprule`, `\\midrule`, `\\bottomrule`)\n10. **Figures**: `\\includegraphics[width=0.8\\textwidth]{...}` default width\n\n## Code Listing Style\n\n```latex\n\\lstset{\n  basicstyle=\\ttfamily\\small,\n  backgroundcolor=\\color{codebackground},\n  breaklines=true,\n  frame=single,\n  numbers=left,\n  numberstyle=\\tiny\\color{gray},\n  keywordstyle=\\color{blue},\n  commentstyle=\\color{green!60!black},\n  stringstyle=\\color{orange},\n  showstringspaces=false\n}\n```\n\n## Quality Checklist\n\n- [ ] Language correctly detected (Chinese default)\n- [ ] All sections present and complete\n- [ ] Chinese characters render properly (if applicable)\n- [ ] Code listings formatted with syntax highlighting\n- [ ] Table of contents generated\n- [ ] Figures and tables numbered correctly\n- [ ] References formatted\n- [ ] PDF compiles without errors\n- [ ] File size reasonable (<10MB)\n- [ ] Output filename is descriptive\n",
      "word_count": 350,
      "skill_count": 1,
      "skills_using": [
        "doc"
      ]
    },
    {
      "id": "std-flowchart-d2-v1",
      "title": "流程图 D2 类定义 v4.0 — 标准符号代码",
      "category": "visualization",
      "version": "4.0.0",
      "source_skill": "flowchart",
      "preview_type": "d2",
      "preview_content": "",
      "body_md": "# FlowViz D2 类定义 v4.0\n\n> 与 [heflo.com 流程图符号标准](https://www.heflo.com/blog/flowchart-symbols) 对齐\n> **规则：1个符号 = 1个标准形状 + 1种颜色。形状编码含义。**\n\n---\n\n## 完整 Classes 代码块 — 复制到每个 `.d2` 文件\n\n```d2\nclasses: {\n  # ═══════════════════════════════════════════════════════\n  # 标准流程图符号（对齐 heflo.com）\n  # 形状 = 标准含义。颜色 = 视觉区分。\n  # ═══════════════════════════════════════════════════════\n\n  # ① 终止符 — 流程的开始/结束\n  terminator: {\n    shape: oval\n    style.fill: \"#EDE9FE\"\n    style.stroke: \"#7C3AED\"\n    style.stroke-width: 2\n    style.font-color: \"#4C1D95\"\n  }\n\n  # ② 处理 — 动作、任务、操作、计算\n  process: {\n    shape: rectangle\n    style.fill: \"#DBEAFE\"\n    style.stroke: \"#2563EB\"\n    style.stroke-width: 2\n    style.border-radius: 8\n    style.font-color: \"#1E3A8A\"\n  }\n\n  # ③ 判断 — 是/否问题，条件分支\n  decision: {\n    shape: diamond\n    style.fill: \"#FEF3C7\"\n    style.stroke: \"#D97706\"\n    style.stroke-width: 2\n    style.font-color: \"#78350F\"\n  }\n\n  # ④ 数据（I/O）— 进入或离开系统的数据\n  data: {\n    shape: parallelogram\n    style.fill: \"#F1F5F9\"\n    style.stroke: \"#475569\"\n    style.stroke-width: 2\n    style.font-color: \"#1E293B\"\n  }\n\n  # ⑤ 文档 — 生成、接收或使用的单个文档\n  document: {\n    shape: page\n    style.fill: \"#E0E7FF\"\n    style.stroke: \"#4F46E5\"\n    style.stroke-width: 2\n    style.font-color: \"#312E81\"\n  }\n\n  # ⑥ 多文档 — 批量文档\n  multi-document: {\n    shape: page\n    style.fill: \"#E0E7FF\"\n    style.stroke: \"#4F46E5\"\n    style.stroke-width: 2\n    style.font-color: \"#312E81\"\n    style.3d: true\n  }\n\n  # ⑦ 子程序 — 预定义的函数/子过程\n  subroutine: {\n    shape: step\n    style.fill: \"#FFEDD5\"\n    style.stroke: \"#EA580C\"\n    style.stroke-width: 2\n    style.font-color: \"#7C2D12\"\n  }\n\n  # ⑧ 准备 — 设置、初始化、配置加载\n  preparation: {\n    shape: hexagon\n    style.fill: \"#FCE7F3\"\n    style.stroke: \"#DB2777\"\n    style.stroke-width: 2\n    style.font-color: \"#831843\"\n  }\n\n  # ⑨ 数据库 — 结构化数据存储\n  database: {\n    shape: cylinder\n    style.fill: \"#CCFBF1\"\n    style.stroke: \"#0D9488\"\n    style.stroke-width: 2\n    style.font-color: \"#134E4A\"\n  }\n\n  # ⑩ 存储数据 — 通用持久存储\n  stored-data: {\n    shape: stored_data\n    style.fill: \"#F0FDFA\"\n    style.stroke: \"#14B8A6\"\n    style.stroke-width: 2\n    style.font-color: \"#134E4A\"\n  }\n\n  # ⑪ 延迟 — 等待、暂停、超时\n  delay: {\n    shape: queue\n    style.fill: \"#F5F5F4\"\n    style.stroke: \"#78716C\"\n    style.stroke-width: 2\n    style.font-color: \"#292524\"\n  }\n\n  # ⑫ 手动输入\n  manual-input: {\n    shape: parallelogram\n    style.fill: \"#FFEDD5\"\n    style.stroke: \"#EA580C\"\n    style.stroke-width: 2\n    style.font-color: \"#7C2D12\"\n  }\n\n  # ⑬ 显示\n  display: {\n    shape: rectangle\n    style.fill: \"#D1FAE5\"\n    style.stroke: \"#059669\"\n    style.stroke-width: 2\n    style.border-radius: 16\n    style.font-color: \"#064E3B\"\n  }\n\n  # ⑭ 连接器\n  connector: {\n    shape: circle\n    style.fill: \"#F3F4F6\"\n    style.stroke: \"#9CA3AF\"\n    style.stroke-width: 2\n    style.font-color: \"#374151\"\n  }\n\n  # ⑮ 跨页连接器\n  offpage: {\n    shape: package\n    style.fill: \"#F3F4F6\"\n    style.stroke: \"#9CA3AF\"\n    style.stroke-width: 2\n    style.font-color: \"#374151\"\n  }\n\n  # ⑯ 内部存储\n  internal-storage: {\n    shape: square\n    style.fill: \"#CCFBF1\"\n    style.stroke: \"#0D9488\"\n    style.stroke-width: 3\n    style.font-color: \"#134E4A\"\n  }\n\n  # ⑰ 循环限制\n  loop-limit: {\n    shape: package\n    style.fill: \"#FEF3C7\"\n    style.stroke: \"#D97706\"\n    style.stroke-width: 2\n    style.font-color: \"#78350F\"\n  }\n\n  # ⑱ 手动循环\n  manual-loop: {\n    shape: hexagon\n    style.fill: \"#FFEDD5\"\n    style.stroke: \"#EA580C\"\n    style.stroke-width: 2\n    style.font-color: \"#7C2D12\"\n  }\n\n  # ═══════════════════════ 扩展 ═══════════════════════\n\n  # AI / LLM — 模型调用、生成\n  ai: {\n    shape: rectangle\n    style.fill: \"#D1FAE5\"\n    style.stroke: \"#059669\"\n    style.stroke-width: 3\n    style.border-radius: 16\n    style.font-color: \"#064E3B\"\n  }\n\n  # 外部服务 — 第三方 API、云服务\n  external: {\n    shape: cloud\n    style.fill: \"#F5F5F4\"\n    style.stroke: \"#78716C\"\n    style.stroke-width: 2\n    style.font-color: \"#292524\"\n  }\n\n  # ═══════════════════════ 组容器 ═══════════════════════\n  group: {\n    style.fill: \"#FAFAFA\"\n    style.stroke: \"#D1D5DB\"\n    style.stroke-width: 1\n    style.border-radius: 8\n    style.font-size: 16\n    style.bold: true\n  }\n}\n```\n\n---\n\n## 边样式 — 6种标准类型\n\n```d2\n# ━━ 主流程 ━━\na -> b {\n  style.stroke: \"#111827\"\n  style.stroke-width: 3\n  style.opacity: 0.85\n}\n\n# ✓ 通过门 ✓\ngate -> next: \"pass\" {\n  style.stroke: \"#16A34A\"\n  style.stroke-width: 2\n  style.opacity: 0.80\n}\n\n# ✗ 失败门 ✗\ngate -> rework: \"fail\" {\n  style.stroke: \"#DC2626\"\n  style.stroke-width: 2\n  style.opacity: 0.70\n  style.stroke-dash: 5\n}\n\n# ── 数据流 ──\na -> b: \"data.csv\" {\n  style.stroke: \"#6B8DB2\"\n  style.stroke-width: 1.5\n  style.opacity: 0.50\n}\n\n# ╌╌ 跳转 ╌╌\na -> b: \"跳至\" {\n  style.stroke: \"#64748B\"\n  style.stroke-width: 1.5\n  style.opacity: 0.40\n  style.stroke-dash: 5\n}\n\n# ⟲ 反馈 ⟲\na -> b: \"重试\" {\n  style.stroke: \"#7C3AED\"\n  style.stroke-width: 1.5\n  style.opacity: 0.45\n  style.stroke-dash: 2\n}\n```\n\n---\n\n## 速查表\n\n| 你在画什么 | D2 类名 | 形状（颜色） |\n|-----------|---------|-------------|\n| 流程开始/结束 | `terminator` | 椭圆（紫罗兰） |\n| 任何动作、任务 | `process` | 矩形（蓝） |\n| 是/否分支 | `decision` | 菱形（琥珀） |\n| 数据进出 | `data` | 平行四边形（石板灰） |\n| 文档、报告 | `document` | 页面（靛蓝） |\n| 多份文档 | `multi-document` | 堆叠页面（靛蓝） |\n| 调用子程序 | `subroutine` | 步骤（橙） |\n| 设置/初始化 | `preparation` | 六边形（粉） |\n| 数据库 | `database` | 圆柱体（青） |\n| 通用存储 | `stored-data` | 弧形（浅青） |\n| 等待/暂停 | `delay` | D形（石灰） |\n| 用户输入 | `manual-input` | 平行四边形（橙） |\n| 屏幕显示 | `display` | 圆角矩形（翠绿） |\n| 同页链接 | `connector` | 圆形（灰） |\n| 跨页继续 | `offpage` | 五边形（灰） |\n| RAM/缓存 | `internal-storage` | 方形（青） |\n| 循环边界 | `loop-limit` | 五边形（琥珀） |\n| 手动重复 | `manual-loop` | 六边形（橙） |\n| AI/LLM调用 | `ai` | 柔和矩形（翠绿） |\n| 第三方API | `external` | 云（石灰） |\n\n---\n\n## 图例模板\n\n```d2\nlegend: {\n  label: \"图例\"\n  style.fill: \"#FFFFFF\"\n  style.stroke: \"#D1D5DB\"\n  style.border-radius: 8\n\n  shapes: {\n    label: \"标准符号\"\n    s1: \"终止符\" { class: terminator }\n    s2: \"处理\" { class: process }\n    s3: \"判断\" { class: decision }\n    s4: \"数据\" { class: data }\n    s5: \"文档\" { class: document }\n    s6: \"子程序\" { class: subroutine }\n    s7: \"准备\" { class: preparation }\n    s8: \"数据库\" { class: database }\n  }\n}\n```\n",
      "word_count": 749,
      "skill_count": 1,
      "skills_using": [
        "flowchart"
      ]
    },
    {
      "id": "std-flowchart-symbols-v1",
      "title": "流程图符号标准 v4.0 — 24个标准符号",
      "category": "visualization",
      "version": "4.0.0",
      "source_skill": "flowchart",
      "preview_type": "mermaid",
      "preview_content": "",
      "body_md": "# 流程图符号标准 — 24个标准符号\n\n> 来源：[heflo.com/blog/flowchart-symbols](https://www.heflo.com/blog/flowchart-symbols)\n> 这是所有流程图形状的**唯一真理源**。\n\n---\n\n## 24个标准流程图符号\n\n### 第1层 — 核心（90%+的流程图使用）\n\n| 符号 | 形状 | D2 | 何时使用 |\n|------|------|-----|----------|\n| **终止符** | 椭圆/圆角矩形 | `oval` | 流程的开始/结束 |\n| **处理** | 矩形 | `rectangle` | 任何动作、任务、操作、计算 |\n| **判断** | 菱形 | `diamond` | 是/否分支，条件检查 |\n| **数据（输入/输出）** | 平行四边形 | `parallelogram` | 进入或离开系统的数据 |\n| **箭头** | 带箭头的线 | `->` | 符号间的流向 |\n\n### 第2层 — 常用（约50%的流程图使用）\n\n| 符号 | 形状 | D2 | 何时使用 |\n|------|------|-----|----------|\n| **文档** | 底部波浪矩形 | `page` | 报告、文件、表单 |\n| **数据库** | 圆柱体 | `cylinder` | SQL/NoSQL 数据存储 |\n| **子程序** | 双竖线矩形 | `step` | 调用预定义函数/子过程 |\n| **准备** | 六边形 | `hexagon` | 设置、初始化、配置加载 |\n| **连接器** | 小圆形 | `circle` | 同页链接流程图部分 |\n| **存储数据** | 弧形边矩形 | `stored_data` | 通用持久存储（磁盘、缓存） |\n\n### 第3层 — 专用（按需使用）\n\n| 符号 | 形状 | D2 | 何时使用 |\n|------|------|-----|----------|\n| **延迟** | D形 | `queue` | 等待、暂停、超时 |\n| **手动输入** | 斜顶矩形 | `parallelogram` | 用户手动输入数据 |\n| **显示** | 左弧矩形 | `rectangle` | 在屏幕上显示输出 |\n| **多文档** | 堆叠页面 | `page` + 3d | 批量文档 |\n| **跨页连接器** | 五边形 | `package` | 流程在另一页继续 |\n| **内部存储** | 缺角方形 | `square` | RAM、内存、缓存 |\n| **循环限制** | 平底五边形 | `package` | 循环边界/最大迭代 |\n| **手动循环** | 缺角矩形 | `hexagon` | 手动重复直到条件满足 |\n\n### 第4层 — 罕用（仅特殊图表使用）\n\n| 符号 | 形状 | D2 | 何时使用 |\n|------|------|-----|----------|\n| **汇聚节点** | 带+的圆 | `circle` | 多条路径合并 |\n| **与门（AND）** | 带x的圆 | `circle` | 所有条件必须满足 |\n| **对照** | 沙漏形 | `diamond` | 比较/匹配多个输入 |\n| **排序** | 带横线菱形 | `diamond` | 按顺序排列项目 |\n| **离线存储** | 三角形 | `stored_data` | 物理/离线档案 |\n\n---\n\n## 形状-含义速查表\n\n| 形状 | 含义 | 标准名称 |\n|------|------|----------|\n| **椭圆** | 开始或结束 | 终止符 |\n| **矩形** | 执行某操作 | 处理 |\n| **菱形** | 提出问题 | 判断 |\n| **平行四边形** | 数据进/出 | 数据（I/O） |\n| **波底矩形** | 一份文档 | 文档 |\n| **圆柱体** | 数据库 | 数据库 |\n| **六边形** | 设置/准备 | 准备 |\n| **双竖线矩形** | 调用子程序 | 子程序 |\n| **D形** | 等待/延迟 | 延迟 |\n| **弧边矩形** | 已存储数据 | 存储数据 |\n| **圆形** | 连接器 | 连接器 |\n| **五边形** | 跨页链接 | 跨页连接器 |\n| **箭头线** | 流向 | 箭头 |\n\n---\n\n## 颜色标准\n\n每个符号有一个**固定色相**，绑定其语义角色。\n\n### 节点颜色表\n\n| 色相 | 填充 | 描边 | 字色 | 适用于 |\n|------|------|------|------|--------|\n| **紫罗兰** | `#EDE9FE` | `#7C3AED` | `#4C1D95` | 终止符（开始/结束） |\n| **蓝** | `#DBEAFE` | `#2563EB` | `#1E3A8A` | 处理（动作、任务） |\n| **琥珀** | `#FEF3C7` | `#D97706` | `#78350F` | 判断（分支）、循环限制 |\n| **石板灰** | `#F1F5F9` | `#475569` | `#1E293B` | 数据 I/O |\n| **靛蓝** | `#E0E7FF` | `#4F46E5` | `#312E81` | 文档、多文档 |\n| **橙** | `#FFEDD5` | `#EA580C` | `#7C2D12` | 子程序、手动输入、手动循环 |\n| **粉** | `#FCE7F3` | `#DB2777` | `#831843` | 准备（设置、初始化） |\n| **青** | `#CCFBF1` | `#0D9488` | `#134E4A` | 数据库、内部存储 |\n| **浅青** | `#F0FDFA` | `#14B8A6` | `#134E4A` | 存储数据 |\n| **石灰** | `#F5F5F4` | `#78716C` | `#292524` | 延迟、外部服务 |\n| **翠绿** | `#D1FAE5` | `#059669` | `#064E3B` | 显示、AI/LLM |\n| **灰** | `#F3F4F6` | `#9CA3AF` | `#374151` | 连接器、跨页连接器 |\n| **中性** | `#FAFAFA` | `#D1D5DB` | — | 组容器 |\n\n### 边颜色表\n\n| 边类型 | 颜色 | 色值 | 宽度 | 虚线 | 透明度 |\n|--------|------|------|------|------|--------|\n| **主流程** | 黑 | `#111827` | 3px | 实线 | 0.85 |\n| **通过门（是）** | 绿 | `#16A34A` | 2px | 实线 | 0.80 |\n| **失败门（否）** | 红 | `#DC2626` | 2px | 虚线 5 | 0.70 |\n| **数据流** | 灰蓝 | `#6B8DB2` | 1.5px | 实线 | 0.50 |\n| **跳转** | 石板灰 | `#64748B` | 1.5px | 虚线 5 | 0.40 |\n| **反馈** | 紫 | `#7C3AED` | 1.5px | 点线 2 | 0.45 |\n\n---\n\n## 6种标准边类型\n\n### 1. 主流程（主路径）\n- **样式**：黑色实线，3px\n- **用途**：流程图的主序列路径。总览中唯一可见的边。\n- **标签**：无\n\n### 2. 通过门（Yes分支）\n- **样式**：绿色实线，2px\n- **用途**：判断菱形的\"是/通过/真\"输出边。\n- **规则**：每个二元判断必须恰好有1条绿色通过边 + 1条红色失败边。\n\n### 3. 失败门（No分支）\n- **样式**：红色虚线，2px\n- **用途**：判断菱形的\"否/失败/假\"输出边。通常回循到修复步骤。\n\n### 4. 数据流\n- **样式**：灰蓝色细实线，1.5px\n- **用途**：节点间的数据或产物传输。视觉上不与主路径竞争。\n\n### 5. 跳转/深度跳转\n- **样式**：石板灰虚线，1.5px\n- **用途**：跳过前进、深度层级跳转或交叉引用链接。\n\n### 6. 反馈\n- **样式**：紫色点线，1.5px\n- **用途**：迭代、重试、回环边。始终指向上游。\n- **规则**：总览中最多1条反馈边。禁止自环。\n\n### 门设计规则\n\n每个**二元判断**（菱形）恰好有 **2条输出边**：\n\n```\n           ┌─── pass（绿色实线）──→ [下一步]\n [判断]\n           └─── fail（红色虚线）──→ [修复/重试]\n```\n\n颜色本身就告诉读者\"通过\"或\"失败\"——无需阅读标签。\n",
      "word_count": 714,
      "skill_count": 1,
      "skills_using": [
        "flowchart"
      ]
    },
    {
      "id": "std-flowchart-v1",
      "title": "流程图设计标准 v4.0 — 布局与视觉规范",
      "category": "visualization",
      "version": "4.0.0",
      "source_skill": "flowchart",
      "preview_type": "mermaid",
      "preview_content": "flowchart LR\n    A([Start]) --> B[/Input Data/]\n    B --> C[Process Step]\n    C --> D{Decision?}\n    D -->|Yes| E[(Database)]\n    D -->|No| F[[Subroutine]]\n    E --> G[/Output Report/]\n    F --> G\n    G --> H([End])\n",
      "body_md": "# 流程图设计标准 v4.0\n\n> **范围**：流程图的布局、美学和视觉设计原则。\n> 符号形状、颜色、边类型 → 参见 `std-flowchart-symbols-v1`（唯一真理源）。\n>\n> **核心哲学**：美化是手段，传递信息才是目的。\n> 任何让读者无法在 3 秒内叙述主流程的装饰都是有害的。\n\n---\n\n## 1. 设计公理\n\n**流程图是信息传递的视觉语言。** 每个设计决策只需回答一个问题：*这是否帮助读者更快理解逻辑？* 如果不是，删除它。\n\n| 优先级 | 目标 | 衡量标准 |\n|--------|------|----------|\n| P0 | **3秒扫描** | 读者无需点击即可叙述主流程 |\n| P1 | **直线** | 能直的线必须直——禁止不必要的曲线或绕路 |\n| P2 | **无重叠** | 节点不重叠节点；边不穿过节点；边交叉最小化为零 |\n| P3 | **形状=含义** | 每个节点的形状瞬间表明\"它是什么\"（参照符号标准） |\n| P4 | **颜色=角色** | 相同语义角色→相同颜色，无猜测空间 |\n| P5 | **线条层级** | 主流程线明显比其他所有线更粗/更深 |\n| P6 | **一屏可见** | `fitView` 显示所有节点，无需滚动、拖拽或缩放 |\n\n---\n\n## 2. 颜色原则\n\n### 2.1 统一性\n\n- **相同语义类型→相同颜色。** 所有 Process 节点都是蓝色。所有 Decision 节点都是琥珀色。无例外。\n- 调色板按符号类型**固定**（参见符号标准的颜色表）。禁止发明新色相。\n- 如果节点不属于任何标准类型，默认使用 `process`（蓝色）。\n\n### 2.2 对比度\n\n- **填充 vs 描边**：每个节点使用浅填充 + 饱和描边。描边承载身份；填充提供面积。\n- **文字 vs 背景**：最小亮度差 > 30%。使用标准中指定的 `font-color`。\n- **主要 vs 次要边**：主流程为 3px 黑色（透明度 0.85），其他边更细、更浅或虚线。视觉差距必须明显。\n\n### 2.3 精简性\n\n- **任何单个图表最多 3 个主色调。** 其余为点缀色。\n- 如果图表使用 6+ 种符号类型，调色板自然扩展——但读者仍然感知\"蓝色=动作，琥珀色=决策\"，因为形状强化了颜色。\n- **禁止用颜色编码第二维度**（如\"蓝色=过程且蓝色=确定性\"）。颜色仅编码符号类型。\n\n### 2.4 场景适配\n\n| 场景 | 建议 |\n|------|------|\n| 技术文档 | 直接使用标准调色板（低饱和度，高可读性） |\n| 演示文稿 | 描边宽度+1px；稍大节点以适应投影仪 |\n| 打印 / PDF | 确保所有虚线在黑白打印中可区分（靠虚线样式，非颜色） |\n| 深色背景 | 反转填充/描边变体（需单独处理） |\n\n---\n\n## 3. 节点设计原则\n\n### 3.1 尺寸标准化\n\n| 属性 | 值 | 容差 |\n|------|-----|------|\n| 最小宽度 | 120px | — |\n| 最大宽度 | 240px | — |\n| 最小高度 | 48px | — |\n| 最大高度 | 96px（2行） | — |\n| 圆角 | 8px（Process），16px（AI/Display），0（Diamond） | 按符号标准 |\n| 描边宽度 | 2px（常规），3px（强调：AI、Internal Storage） | 按符号标准 |\n\n- **同类型节点必须尺寸相同。** 两个并排的 Process 节点大小完全一致。\n- Decision 菱形因形状自然更高——保持文字区域紧凑。\n\n### 3.2 内容密度\n\n每个节点最多 3 个内容区域：\n\n```\n┌──────────────────────┐\n│  标题               │  ← 动词+宾语，≤ 24字符\n│  副标题             │  ← 结果/产物，≤ 36字符\n│  [标签] [标签] [+N] │  ← 产物名称，≤ 3个标签\n└──────────────────────┘\n```\n\n| 区域 | 规则 |\n|------|------|\n| **标题** | 祈使动词+宾语。如 `解析PDF`、`训练模型`、`检查质量` |\n| **副标题** | 描述输出或方法。如 `解析章节 + 提取图表` |\n| **标签** | 产物名称（最多3个），溢出显示 `+N`。 |\n\n- **字体**：仅无衬线字体（节点文字禁用衬线体和等宽体）。\n- **对齐**：居中。标题禁止换行到2+行——宁可缩短。\n- **节点内无图标**，除非完全替代文字（每节点最多1个图标）。\n\n---\n\n## 4. 边设计原则\n\n### 4.1 视觉层级\n\n读者应瞬间识别哪条线是\"主干道\"：\n\n| 层级 | 边类型 | 视觉权重 |\n|------|--------|----------|\n| **前景** | 主流程 | 3px，黑色，实线，透明度 0.85 |\n| **中景** | 通过/失败门 | 2px，绿/红，实线/虚线，透明度 0.70–0.80 |\n| **背景** | 数据/跳转/反馈 | 1.5px，柔和颜色，透明度 0.40–0.50 |\n\n- 如果所有边看起来同等重要，图表就坏了。**主流程必须主导。**\n\n### 4.2 直线规则（不可协商）\n\n**如果一条线能直，它就必须直。** 对齐节点之间的弯曲线始终是bug。\n\n| 规则 | 描述 |\n|------|------|\n| **对齐时必须直** | 如果源和目标共享相同X（垂直流）或Y（水平流），边必须是单段直线——零弯折。 |\n| **偏移时直角** | 如果源和目标未对齐，使用恰好一个直角弯（L形）。主流程禁用贝塞尔曲线。 |\n| **禁止多余曲线** | 主流程、通过门、失败门禁止贝塞尔/样条路由。仅跳转和反馈边可使用曲线，且仅在必要时。 |\n| **布局产生直线** | 节点正确对齐时，边不需要路由技巧。**先修布局，非修边。** |\n\n### 4.3 路由规则\n\n| 规则 | 描述 |\n|------|------|\n| **固定端口** | L→R布局：左进右出。T→B布局：上进下出。 |\n| **禁止自环** | `source === target` 的边始终过滤掉——零例外。 |\n| **总览无回边** | 除最多1条反馈边。所有循环放在详细视图中。 |\n| **零交叉目标** | 重排节点以消除所有边交叉。如果真不可能，以直角交叉并留可见间隙。 |\n| **边不穿过节点** | 边绝不可视觉上穿过或重叠未连接的节点。 |\n\n---\n\n## 5. 布局原则\n\n### 5.1 主干优先\n\n每个流程图必须有**恰好一条主干（脊柱）**。所有其他信息作为侧边栏、标签或详细视图挂在脊柱上。\n\n### 5.2 方向规则\n\n| 节点数 | 方向 | 布局方式 |\n|--------|------|----------|\n| ≤ 5 | 左→右 | 单行，`direction: right` |\n| 6–10 | 网格（L→R, T→B） | `grid-rows: 2, grid-columns: 5` |\n| > 10 | **分为总览+详细** | 总览 ≤ 10节点；多余作为下钻 |\n\n### 5.3 换行规则（硬性规定）\n\n- **每行最多5个节点。** 超过5个就换行。\n- 10个节点 = 2行 × 5列（标准总览布局）。\n\n### 5.4 对齐（不可协商）\n\n| 规则 | 描述 |\n|------|------|\n| **同行Y对齐** | 同行所有节点共享完全相同的Y坐标。容差：**0px**。 |\n| **同列X对齐** | 同列所有节点共享完全相同的X坐标。 |\n| **网格吸附** | 使用 `grid-rows` + `grid-columns` 机械强制对齐。 |\n| **先对齐后路由** | 先对齐节点，再画边。直线是对齐节点的自然结果。 |\n\n### 5.5 间距\n\n| 指标 | 值 |\n|------|-----|\n| 水平节点间距 | 60px |\n| 垂直节点间距 | 40px |\n| 同行Y容差 | **0px**（精确对齐） |\n| 同列X容差 | **0px**（精确对齐） |\n| 组内间距 | 16px |\n| 组间步骤间距 | 28px |\n| 边到非连接节点间距 | ≥ 10px |\n\n---\n\n## 6. 总览设计（L0）\n\n### 6.1 硬性限制\n\n| 指标 | 目标 |\n|------|------|\n| 节点 | **= 10（恰好）** |\n| 主边 | **9–11** |\n| 反馈边 | **≤ 1** |\n| fitView | 所有10个节点无滚动可见 |\n| 回边 | **0**（除1条允许的反馈边） |\n\n### 6.2 侧边栏模式\n\n产物、配置和数据产品不应是主干节点：\n- 作为**标签**附在产生节点上（最多3个可见，溢出 `+N`）\n- 或使用单个**侧边注释**框\n- 侧边栏不计入10节点限制\n\n---\n\n## 7. 详细设计（L1+）\n\n| 指标 | 目标 |\n|------|------|\n| 每个详细视图节点 | ≤ 15 |\n| 嵌套深度 | ≤ 2层（L0 → L1 → L2 最大） |\n| 显示的边类型 | 主流程 + 门 + 数据（全部6种类型） |\n\n---\n\n## 8. 交互原则\n\n- **锁定布局**——节点默认不可拖动。这是*展示*，不是白板。\n- **自动 fitView**——加载时、展开/折叠时、导航时。\n- **渐进式揭示**——总览从步骤1可见开始，点击\"下一步\"逐步显示。\n\n---\n\n## 9. 图例（必需）\n\n每个图表**必须**包含图例：\n1. 本图中使用的**符号形状**（24种标准类型的子集）\n2. 本图中使用的**边类型**（6种标准类型的子集）\n\n---\n\n## 10. 反面模式\n\n| 反面模式 | 问题 | 修复 |\n|----------|------|------|\n| 对齐节点间的弯曲线 | 看起来像bug | 对齐节点→线自然变直 |\n| 节点重叠节点 | 不可读 | 增加间距；重排列/行 |\n| 边穿过节点 | 混淆连接关系 | 重排节点或增加路由间距 |\n| 所有边同粗细 | 无层级 | 主流程3px，其他1.5px |\n| 总览>10节点 | 认知过载 | 分组为折叠容器 |\n| 主流程贝塞尔曲线 | 不必要的复杂性 | 使用正交/阶梯路由 |\n| 产物作为主干节点 | 破坏动作脊柱 | 移至标签或侧边栏 |\n\n---\n\n## 11. 验收清单（8项测试）\n\n| # | 测试 | 通过标准 |\n|---|------|----------|\n| 1 | **3秒扫描** | 无需点击，3秒内叙述主流程 |\n| 2 | **所有线直** | 对齐节点间的每条边都是单段直线 |\n| 3 | **零重叠** | 无节点重叠；无边穿过未连接节点 |\n| 4 | **零交叉** | 无边交叉（或以90°交叉） |\n| 5 | **形状扫描** | 每个节点的形状瞬间表明它是什么 |\n| 6 | **零自环** | 无 source === target 的边 |\n| 7 | **视觉层级** | 次要边明显比主要边更轻 |\n| 8 | **fitView测试** | \"显示全部\"适配所有内容，无重叠 |\n\n---\n\n## 参考\n\n- **符号标准**: `std-flowchart-symbols-v1` — 形状、颜色、边类型（唯一真理源）\n- **D2类定义**: `std-flowchart-d2-v1` — D2 class 代码块\n",
      "word_count": 801,
      "skill_count": 1,
      "skills_using": [
        "flowchart"
      ]
    },
    {
      "id": "flowchart--flowchart_design_standard",
      "title": "Flowchart Design Standard",
      "category": "design",
      "version": "auto",
      "source_skill": "flowchart",
      "preview_type": null,
      "preview_content": "",
      "body_md": "# Flowchart Design Standard\n\n> **Scope**: Layout, aesthetics, and visual design principles for flowcharts.\n> **NOT in scope**: Symbol shapes, colors, edge types — see `flowchart_symbols_standard.md` (the SINGLE SOURCE OF TRUTH).\n>\n> **Core philosophy**: 美化是手段，传递信息才是目的。\n> Any decoration that prevents a reader from narrating the main flow in 3 seconds is harmful.\n\n---\n\n## 1. Design Axiom\n\n**A flowchart is a visual language for information transfer.** Every design choice must answer one question: *does this help the reader understand the logic faster?* If not, remove it.\n\n| Priority | Goal | Metric |\n|----------|------|--------|\n| P0 | **3-second scan** | Reader narrates the main flow without clicking anything |\n| P1 | **Straight lines** | Lines that CAN be straight MUST be straight — no unnecessary curves or detours |\n| P2 | **No overlap** | Nodes never overlap nodes; edges never cross nodes; edge crossings minimized to zero |\n| P3 | **Shape = meaning** | Each node's shape instantly tells \"what it is\" per the symbol standard |\n| P4 | **Color = role** | Same semantic role → same color. No guessing. |\n| P5 | **Line hierarchy** | Primary flow is obviously thicker/darker than everything else |\n| P6 | **Fit in one view** | `fitView` shows all nodes without scroll, drag, or zoom |\n\n---\n\n## 2. Color Principles\n\n> Node and edge colors are defined in `flowchart_symbols_standard.md`. This section covers *how to use color*, not *which colors*.\n\n### 2.1 Consistency (统一性)\n\n- **Same semantic type → same color.** All Process nodes are Blue. All Decision nodes are Amber. No exceptions.\n- The color palette is **fixed per symbol type** (see Color Standard in `flowchart_symbols_standard.md`). Never invent new hues.\n- If a node doesn't fit any standard type, use `process` (Blue) as default.\n\n### 2.2 Contrast (对比度)\n\n- **Fill vs. Stroke**: Every node uses a light fill + saturated stroke. The stroke carries identity; the fill provides area.\n- **Text vs. Background**: Minimum lightness difference > 30%. Use the designated `font-color` from the standard.\n- **Primary vs. Secondary edges**: Primary Flow is 3px black (opacity 0.85). All other edges are thinner, lighter, or dashed. The visual gap must be obvious.\n\n### 2.3 Restraint (精简性)\n\n- **Max 3 dominant hues in any single diagram.** The rest are accents.\n- If a diagram uses 6+ symbol types, the palette naturally expands — but the reader still perceives \"blue things = actions, amber things = decisions\" because shape reinforces color.\n- **Never use color to encode a second dimension** (e.g., \"blue = process AND blue = deterministic\"). Color encodes symbol type only.\n\n### 2.4 Context Adaptation (场景适配)\n\n| Context | Recommendation |\n|---------|---------------|\n| Technical docs | Rely on the standard palette as-is (low saturation, high readability) |\n| Presentations | Increase stroke width by 1px; use slightly larger nodes for projector visibility |\n| Print / PDF | Ensure all dashed lines reproduce in B&W (dash pattern, not color alone, carries meaning) |\n| Dark background | Swap fill/stroke to inverted variants (not covered in the standard; handle per project) |\n\n---\n\n## 3. Node Design Principles\n\n### 3.1 Size Standardization (节点标准化)\n\n| Property | Value | Tolerance |\n|----------|-------|-----------|\n| Min width | 120px | — |\n| Max width | 240px | — |\n| Min height | 48px | — |\n| Max height | 96px (2 lines) | — |\n| Border radius | 8px (Process), 16px (AI/Display), 0 (Diamond) | Per symbol standard |\n| Stroke width | 2px (normal), 3px (emphasis: AI, Internal Storage) | Per symbol standard |\n\n- **Same-type nodes must have the same dimensions.** Two Process nodes side by side should be identical in size.\n- Decision diamonds are naturally taller due to shape — keep the text area compact.\n\n### 3.2 Content Density (文字易读化)\n\nEach node has at most 3 text lines. Each line answers ONE question for the reader:\n\n```\n┌──────────────────────────────────┐\n│  Literature Survey               │  Line 1: What IS this stage?\n│  collect background papers       │  Line 2: What does it PRODUCE?\n│  topic → annotated reading notes │  Line 3: What goes IN → what comes OUT?\n└──────────────────────────────────┘\n```\n\n| Line | Field | Question | Font | Max Length |\n|------|-------|----------|------|-----------|\n| **1** | `label` (Title) | **What is this stage?** | 12.5px bold | ≤ 24 chars |\n| **2** | `sub` (Subtitle) | **What does it produce / do?** | 10px gray | ≤ 36 chars |\n| **3** | `io` (I/O) | **What goes in → what comes out?** | 9px light gray | ≤ 36 chars |\n\n#### Title: Verb + Object (动词化)\n\n- GOOD: `Literature Survey`, `Parse Goal`, `Gate Decision`, `Final Verify`\n- BAD: `Session` (too vague — session of what?), `Data Processing` (generic)\n\n#### Subtitle: What it Produces\n\n- GOOD: `collect background papers`, `build hypothesis tree`, `distill key findings`\n- BAD: `Literature Review` (noun phrase — what does it DO?), `goal.md parsing` (filename, not meaning)\n\n#### I/O: Semantic Transformation (语义变换, NOT 实现细节)\n\nThe `io` line describes the **domain-level transformation**: what data enters, what data exits. It must NOT contain implementation details.\n\n| Quality | Example | Why |\n|---------|---------|-----|\n| GOOD | `papers → hypothesis tree` | Semantic: reader knows the transformation |\n| GOOD | `goal.md → role + topic + project` | Concrete: specific input → specific outputs |\n| GOOD | `hypotheses → experiment plan` | Shows the logical data flow between stages |\n| BAD | `10 calls → sessions/*.md` | \"10 calls\" = implementation detail (API call count) |\n| BAD | `30 calls → exp_*.md` | Reader doesn't care how many API calls |\n| BAD | `N lanes → exp_*.md` | Too vague + filename glob instead of meaning |\n| BAD | `11 checks → pass / fail` | \"11 checks\" = implementation detail (check count) |\n| BETTER | `all artifacts → pass / fail` | Semantic: what is being verified |\n\n**The acid test**: Cover the `label`. Can a reader understand the node's purpose from `sub` + `io` alone? If not, rewrite.\n\n**Rule**: The `io` line must form a **data story** when read top-to-bottom across all nodes:\n```\ngoal.md → role + topic + project\n  → topic → annotated reading notes\n    → papers → hypothesis tree\n      → hypotheses → experiment plan\n        → plan → per-hypothesis results\n          → results → advance or backtrack\n            → experiments → reusable insights\n              → insights → paper + slides\n                → all artifacts → pass / fail\n```\nEach output feeds into the next input. If there's a gap, a node label or io is wrong.\n\n#### Chips (Optional, for Overview Nodes)\n\n| Zone | Rule |\n|------|------|\n| **Chips** | Artifact names (max 3). Overflow shows `+N`. Never >3 visible. |\n\n- **Font**: Sans-serif only (no serifs, no monospace for node text).\n- **Alignment**: Center-aligned. Never wrap title to 2+ lines — shorten instead.\n- **No icons inside nodes** unless replacing text entirely (max 1 icon per node).\n\n### 3.3 Badges and Status\n\n- **Depth badge** (L0/L1/L2): Top-left corner, small pill, neutral background.\n- **Status badge** (pass/fail/running): Top-right corner, single character (✓/✗/●).\n- Badges never overlap title text. If the node is too small, omit badges.\n\n---\n\n## 4. Edge Design Principles\n\n> Edge types and colors are defined in `flowchart_symbols_standard.md`. This section covers *routing and visual hierarchy*.\n\n### 4.1 Visual Hierarchy (线条层级)\n\nThe reader should instantly know which line is the \"main road\":\n\n| Layer | Edge Type | Visual Weight |\n|-------|-----------|---------------|\n| **Foreground** | Primary Flow | 3px, black, solid, opacity 0.85 |\n| **Mid-ground** | Gate Pass / Gate Fail | 2px, green/red, solid/dashed, opacity 0.70–0.80 |\n| **Background** | Data / Skip / Feedback | 1.5px, muted colors, opacity 0.40–0.50 |\n\n- If all edges look equally important, the diagram is broken. **Primary must dominate.**\n\n### 4.2 Straightness Rules (线条必须直，Non-Negotiable)\n\n**If a line CAN be straight, it MUST be straight.** A crooked line between aligned nodes is always a bug.\n\n| Rule | Description |\n|------|-------------|\n| **Straight when aligned** | If source and target share the same X (vertical flow) or same Y (horizontal flow), the edge MUST be a single straight segment — zero bends. |\n| **Orthogonal when offset** | If source and target are NOT aligned, use exactly one right-angle bend (L-shape). Never use Bezier curves on primary flow. |\n| **No gratuitous curves** | Bezier/spline routing is FORBIDDEN for Primary Flow, Gate Pass, and Gate Fail edges. Only Skip and Feedback edges may use curves, and only when necessary to avoid crossing. |\n| **Layout causes straightness** | Edges don't need routing tricks if nodes are properly aligned. **Fix the layout first, not the edge.** |\n\n### 4.3 Routing Rules (线条路由)\n\n| Rule | Description |\n|------|-------------|\n| **Fixed ports** | L→R layout: enter from Left, exit from Right. T→B layout: enter from Top, exit from Bottom. |\n| **No self-loops** | `source === target` edges are always filtered out — zero exceptions. |\n| **No back-edges in Overview** | Except max 1 Feedback edge. All loops belong in detail views. |\n| **Zero crossings target** | Re-order nodes to eliminate ALL edge crossings. If truly impossible, cross at right angles with a visible gap. |\n| **No edge-through-node** | An edge must NEVER visually pass through or overlap a node it is not connected to. Re-route or re-order nodes to prevent this. |\n\n### 4.3 Label Rules\n\n| Edge Type | Label? | Example |\n|-----------|--------|---------|\n| Primary Flow | **No label** | — |\n| Gate Pass | `pass` or `yes` | `pass` |\n| Gate Fail | `fail` or `no` | `fail` |\n| Data Flow | Name of data | `report.csv` |\n| Skip / Jump | Optional | `skip to` |\n| Feedback | Optional | `retry` |\n\n- Labels are small (10px), with white semi-transparent background for readability.\n- Primary Flow is **never labeled** — its identity comes from visual weight alone.\n\n---\n\n## 5. Layout Principles\n\n### 5.1 Spine-First Layout (主干优先)\n\nEvery flowchart must have **exactly one main trunk (spine)**. All other information hangs off this spine as sidecars, chips, or detail views.\n\n```\nCorrect:                           Wrong:\n  A → B → C → D → E               A → B → C\n                                       ↓   ↗\n                                       D → E\n                                   (two competing paths)\n```\n\nThe reader's eye follows ONE line. If two paths look equally strong, the hierarchy is broken.\n\n### 5.2 Direction Rules\n\n| Node Count | Direction | Layout Method |\n|------------|-----------|---------------|\n| ≤ 5 | Left → Right | Single row, `direction: right` |\n| 6–10 | Grid (L→R, T→B) | `grid-rows: 2, grid-columns: 5` |\n| > 10 | **Split into Overview + Detail** | Overview ≤ 10 nodes; excess becomes drilldown |\n\n- **Never mix L→R and T→B in the same diagram level.** Pick one and commit.\n\n### 5.3 Row Wrapping (Hard Rule)\n\n- **Max 5 nodes per row.** If more than 5, wrap to the next row.\n- 10 nodes = 2 rows × 5 columns (the standard Overview layout).\n- Wrapping is left-to-right, top-to-bottom (reading order).\n\n### 5.4 Alignment (对齐，Non-Negotiable)\n\n**If two nodes CAN be aligned, they MUST be aligned.** Misalignment is the #1 cause of crooked lines.\n\n| Rule | Description |\n|------|-------------|\n| **Same-row Y alignment** | All nodes in the same row share the EXACT same Y coordinate. Tolerance: **0px** (not 12px — zero). |\n| **Same-column X alignment** | All nodes in the same column share the EXACT same X coordinate. |\n| **Grid snapping** | Use `grid-rows` + `grid-columns` in D2 to enforce alignment mechanically. Never hand-place nodes if a grid achieves the same result. |\n| **Alignment before routing** | Align nodes FIRST, then draw edges. A straight edge is the natural consequence of aligned nodes. |\n\n```\nCorrect (aligned):              Wrong (misaligned):\n  ┌───┐   ┌───┐   ┌───┐          ┌───┐  ┌───┐\n  │ A │───│ B │───│ C │          │ A │──┐ │ B │\n  └───┘   └───┘   └───┘          └───┘  └─└───┘\n  (same Y → straight lines)         (offset Y → crooked line)\n```\n\n### 5.5 No Overlap (不重叠，Non-Negotiable)\n\n**Nodes must never overlap other nodes. Edges must never pass through unconnected nodes.**\n\n| Rule | Description |\n|------|-------------|\n| **Node-node gap** | Minimum 20px clearance between any two node boundaries. |\n| **Edge-node clearance** | An edge must maintain ≥ 10px distance from any node it does not connect to. |\n| **Edge-edge crossing** | Target: ZERO crossings. If unavoidable, cross at right angles (never acute). |\n| **Re-order to fix** | If overlap or crossing occurs, change the node order / column assignment. Do NOT add routing hacks — fix the layout. |\n\n```\nCorrect (no overlap):           Wrong (edge crosses node):\n  ┌───┐   ┌───┐                   ┌───┐───┌───┐\n  │ A │───│ B │                   │ A │ X │ B │\n  └───┘   └───┘                   └───┘───└───┘\n  ┌───┐   ┌───┐                        │\n  │ C │───│ D │                   ┌───┐─┘\n  └───┘   └───┘                   │ C │\n                                  └───┘\n```\n\n### 5.6 Spacing\n\n| Metric | Value |\n|--------|-------|\n| Horizontal node gap | 60px (L→R) |\n| Vertical node gap | 40px (T→B) |\n| Same-row Y tolerance | **0px** (exact alignment) |\n| Same-column X tolerance | **0px** (exact alignment) |\n| Group internal padding | 16px |\n| Group inter-step spacing | 28px |\n| Edge-to-unconnected-node clearance | ≥ 10px |\n\n- **Uniform spacing is non-negotiable.** Inconsistent gaps create the illusion of semantic grouping where none exists.\n\n### 5.7 Visual Balance (视觉平衡)\n\n- The diagram's center of gravity should be near the geometric center of the canvas.\n- Left/right and top/bottom should have roughly equal visual weight.\n- If one side is heavy (many nodes), add whitespace or rebalance by moving auxiliary nodes.\n\n---\n\n## 6. Overview Design (L0)\n\nThe Overview is the reader's first and most important impression. It must be optimized for instant comprehension.\n\n### 6.1 Hard Limits\n\n| Metric | Target |\n|--------|--------|\n| Nodes | **= 10 (exactly)** |\n| Primary edges | **9–11** |\n| Feedback edges | **≤ 1** |\n| fitView | All 10 nodes visible without scroll |\n| Back-edges | **0** (except the 1 allowed Feedback) |\n\n- If the process has < 10 logical steps: **split** granular steps to reach 10.\n- If the process has > 10 logical steps: **group** related steps into collapsed containers.\n\n### 6.2 What Belongs in Overview\n\n| Include | Exclude |\n|---------|---------|\n| Start / End terminators | Intermediate artifacts (config files, temp data) |\n| Main process steps | Sub-steps within a phase |\n| Key decision gates | Internal data flows |\n| Collapsed group nodes | Retry/rework loops (except 1 Feedback) |\n\n### 6.3 Collapsed Groups\n\nWhen multiple related steps are collapsed into one group node:\n\n- **Label**: Phase name (e.g., `Analysis`)\n- **Badge**: `P1→P2→P3` or `3 steps`\n- **Visual**: Use `group` class (neutral border, light fill)\n- **Click behavior**: Drill into detail view (no page change — expand in-place or navigate to detail diagram)\n\n### 6.4 Sidecar Pattern\n\nArtifacts, configurations, and data products should NOT be main-trunk nodes. Instead:\n\n- Attach as **chips** on the producing node (max 3 visible, overflow `+N`)\n- Or use a single **sidecar note** (e.g., \"Key Artifacts\" box) anchored beside the main trunk\n- The sidecar does NOT count toward the 10-node limit\n\n---\n\n## 7. Detail Design (L1+)\n\nDetail views expand what was collapsed in the Overview.\n\n### 7.1 Expansion Rules\n\n- Expanding a group **only pushes downstream nodes** — upstream stays fixed (the reader's mental map is preserved).\n- Expanded children stack **vertically within the group container** (T→B inside L→R spine).\n- Collapsed state shows 1 node; expanded state shows N children + internal edges.\n\n### 7.2 Detail Limits\n\n| Metric | Target |\n|--------|--------|\n| Nodes per detail view | ≤ 15 |\n| Nesting depth | ≤ 2 levels (L0 → L1 → L2 max) |\n| Edge types shown | Primary + Gate + Data (all 6 types allowed) |\n\n### 7.3 Internal Layout\n\nWithin an expanded group:\n\n```\nGroup Container (Analysis)\n  ├─ Map (Pass 1)         ← vertical stack\n  ├─ Q1 Gate (diamond)    ← smaller, same column\n  ├─ Mechanics (Pass 2)\n  └─ Mastery (Pass 3)\n```\n\n- Same-phase steps share the same X coordinate (strict column alignment).\n- Group padding: 16px. Inter-step: 28px.\n\n---\n\n## 8. Interaction Principles\n\n### 8.1 Default State\n\n- **Locked layout** — nodes are not draggable by default. This is a *presentation*, not a whiteboard.\n- **Auto fitView** — on load, on expand/collapse, on navigation.\n- Provide an \"Unlock layout\" toggle for editing mode only.\n\n### 8.2 Progressive Disclosure\n\n- Overview starts with **Step 1 visible**. Click \"Next\" to reveal each subsequent step.\n- Edges appear when both source and target are visible.\n- Notes appear when their associated step is revealed.\n\n### 8.3 Navigation\n\n- **Click group → drill into detail** (expand or navigate)\n- **Back button** → return to Overview (restore position)\n- **Legend toggle** → show/hide the legend overlay\n\n---\n\n## 9. Legend (Required)\n\nEvery diagram **MUST** include a legend. The legend shows:\n\n1. **Symbol shapes** used in this diagram (subset of the 20 standard types)\n2. **Edge types** used in this diagram (subset of the 6 standard types)\n\nLegend rules:\n- Fixed position: bottom-right corner or floating overlay\n- Does not scroll with the canvas\n- Shows only symbols/edges actually present in the current view\n- Compact: 1 row of shape chips + 1 row of edge samples\n\n---\n\n## 10. Anti-Patterns (What NOT to Do)\n\n| Anti-Pattern | Why It's Bad | Fix |\n|-------------|-------------|-----|\n| **Crooked line between aligned nodes** | Looks broken, screams \"auto-layout bug\" | Align nodes to same X or Y → line becomes straight automatically |\n| **Nodes overlapping nodes** | Unreadable, blocks content | Increase spacing; re-order columns/rows |\n| **Edge passing through a node** | Confuses \"is this connected?\" | Re-order nodes or add routing clearance |\n| **Edge crossing edge** | Creates false intersections | Re-order nodes to eliminate; if impossible, cross at 90° |\n| **Misaligned same-row nodes** | Causes unnecessary bends in horizontal edges | Force exact same Y coordinate for all nodes in a row |\n| **Self-loop edges** | 100% visual noise, never informational | Filter `source === target` |\n| **All edges same thickness** | No hierarchy, reader can't find main flow | Primary 3px, others 1.5px |\n| **> 10 nodes in Overview** | Cognitive overload | Group into collapsed containers |\n| **Bezier curves on primary flow** | Creates unnecessary visual complexity | Use orthogonal/step routing |\n| **Artifacts as main-trunk nodes** | Breaks the action spine | Move to chips or sidecars |\n| **Mixed L→R and T→B** | Inconsistent reading direction | Pick one, commit |\n| **Color = execution actor** (blue=code, green=LLM) | Conflicts with color = symbol type standard | Use shape for semantics, color follows symbol standard |\n| **Status encoded in fill color** | Clashes with symbol-type color | Use border style + badge instead |\n| **> 3 lines of text in a node** | Nodes are labels, not paragraphs | Title ≤ 24 chars, subtitle ≤ 36 chars |\n\n---\n\n## 11. Acceptance Checklist (8-Point Test)\n\nBefore shipping any flowchart, verify all 8:\n\n| # | Test | Pass Criteria |\n|---|------|--------------|\n| 1 | **3-second scan** | Without clicking, narrate the main flow in 3 seconds |\n| 2 | **All lines straight** | Every edge between aligned nodes is a single straight segment — zero unnecessary bends |\n| 3 | **Zero overlap** | No node overlaps another node; no edge passes through an unconnected node |\n| 4 | **Zero crossings** | No edge crosses another edge (or crosses at 90° if truly unavoidable) |\n| 5 | **Shape scan** | Each node's shape instantly tells you what it is |\n| 6 | **Zero self-loops** | No edge where source === target |\n| 7 | **Visual hierarchy** | Secondary edges obviously lighter than primary |\n| 8 | **fitView test** | \"Show All\" fits everything, no overlap, no drag needed |\n\n---\n\n## 12. Quick Decision Tree\n\nUse this when designing a new flowchart:\n\n```\nQ: How many main steps?\n├─ ≤ 5 → Single row, L→R, direction: right\n├─ 6–10 → Grid layout, 2 rows × 5 cols\n└─ > 10 → Overview (10 nodes) + Detail drilldowns\n\nQ: Does a step contain sub-steps?\n├─ Yes, 2–5 sub-steps → Collapse into group node\n├─ Yes, > 5 sub-steps → Separate detail diagram\n└─ No → Regular node\n\nQ: Is this an artifact, not an action?\n├─ Key output (PDF, report) → Data or Document node in spine\n├─ Intermediate file (config, index) → Chip on producing node\n└─ Multiple artifacts → Sidecar note box\n\nQ: Does this edge go backward?\n├─ Main retry loop → 1 Feedback edge (purple dotted)\n├─ Gate fail → rework → Gate Fail edge (red dashed) to rework node\n└─ Other backward reference → Skip edge (slate dashed), or hide in detail\n```\n\n---\n\n## References\n\n- **Symbol Standard**: `flowchart_symbols_standard.md` — shapes, colors, edge types (SINGLE SOURCE OF TRUTH)\n- **D2 Classes**: `flowviz_d2_classes.md` — copy-paste D2 class blocks\n- **FlowViz Skill**: `/flowchart` SKILL.md — workflow and rendering instructions\n",
      "word_count": 3534,
      "skill_count": 1,
      "skills_using": [
        "flowchart"
      ]
    },
    {
      "id": "flowchart--flowchart_symbols_standard",
      "title": "Flowchart Symbols Standard",
      "category": "symbols",
      "version": "auto",
      "source_skill": "flowchart",
      "preview_type": null,
      "preview_content": "",
      "body_md": "# Flowchart Symbols Standard\n\n> Source: [heflo.com/blog/flowchart-symbols](https://www.heflo.com/blog/flowchart-symbols)\n> Extracted: 2026-02-21 | This is the SINGLE SOURCE OF TRUTH for all flowchart shapes.\n\n---\n\n## 24 Standard Flowchart Symbols\n\n### 1. Arrow (Flow Line)\n- **Shape**: Line with directional arrowhead\n- **Usage**: Connection symbol used to indicate a link between two other symbols and the direction of flow\n- **Note**: This is an EDGE, not a node\n\n### 2. Terminator (Start / End)\n- **Shape**: Oval / rounded rectangle (stadium)\n- **Usage**: Marks the start or end of a process. Labeled \"Start\", \"End\", or \"Exit\"\n- **D2 shape**: `oval`\n\n### 3. Process\n- **Shape**: Rectangle\n- **Usage**: Represents a specific task, action, or operation that needs to be performed\n- **D2 shape**: `rectangle`\n\n### 4. Decision\n- **Shape**: Diamond\n- **Usage**: Represents a point where a choice must be made — typically a yes/no or true/false question\n- **D2 shape**: `diamond`\n\n### 5. Delay\n- **Shape**: \"D\"-shaped semicircle (flat side on left)\n- **Usage**: Represents a pause or waiting period in a process\n- **D2 shape**: `queue`\n\n### 6. Data (Input / Output)\n- **Shape**: Parallelogram (slanted rectangle)\n- **Usage**: Represents information entering or leaving the system — input data or output results\n- **D2 shape**: `parallelogram`\n\n### 7. Document\n- **Shape**: Rectangle with wavy bottom edge\n- **Usage**: Represents a single document generated, received, or used in a process\n- **D2 shape**: `page`\n\n### 8. Multiple Documents\n- **Shape**: Stacked rectangles with wavy bottom edges\n- **Usage**: Indicates several documents involved in a step\n- **D2 shape**: `page` + `style.3d: true`\n\n### 9. Subroutine (Predefined Process)\n- **Shape**: Rectangle with double vertical bars on left and right sides\n- **Usage**: Represents a named process or function that is defined elsewhere\n- **D2 shape**: `step`\n\n### 10. Preparation\n- **Shape**: Hexagon\n- **Usage**: Represents a setup or initialization step before the main process begins\n- **D2 shape**: `hexagon`\n\n### 11. Display\n- **Shape**: Rectangle with concave (curved inward) left edge\n- **Usage**: Represents information being shown to the user — usually on a screen or monitor\n- **D2 shape**: `rectangle` (approximation; D2 has no native display shape)\n\n### 12. Manual Input (Manual Entry)\n- **Shape**: Rectangle with slanted top edge (trapezoid, narrower at top)\n- **Usage**: Represents a step where a user manually inputs data into the system\n- **D2 shape**: `parallelogram` (approximation; D2 has no native manual-input shape)\n\n### 13. Manual Loop\n- **Shape**: Rectangle with notched top corners (resembles an upside-down trapezoid)\n- **Usage**: Represents a repetitive process that is performed manually until a condition is met\n- **D2 shape**: `hexagon` (approximation)\n\n### 14. Loop Limit\n- **Shape**: Pentagon (flat bottom, angled top corners)\n- **Usage**: Represents the end point or boundary of a loop, controlling how many times it repeats\n- **D2 shape**: `package` (approximation)\n\n### 15. Stored Data\n- **Shape**: Open-ended rectangle with curved right side (magnetic tape / drum shape)\n- **Usage**: Represents information that is saved for later use — general persistent storage\n- **D2 shape**: `stored_data`\n\n### 16. Connector (On-page)\n- **Shape**: Small circle with a label inside\n- **Usage**: Used to link different parts of a flowchart that are on the same page\n- **D2 shape**: `circle`\n\n### 17. Off-page Connector\n- **Shape**: Pentagon (home-plate shape, pointing down)\n- **Usage**: Shows that the flow continues on a different page or section of the flowchart\n- **D2 shape**: `package`\n\n### 18. Summing Junction\n- **Shape**: Circle divided into four equal quadrants (+ inside circle)\n- **Usage**: Used when multiple process paths must converge into a single flow\n- **D2 shape**: `circle` (with \"+\" label)\n\n### 19. AND (Or Junction)\n- **Shape**: Circle divided diagonally into four sections (X pattern inside circle)\n- **Usage**: Used when multiple conditions or inputs must all be true or complete before proceeding\n- **D2 shape**: `circle` (with \"x\" label)\n\n### 20. Collate (Merge)\n- **Shape**: Hourglass (two triangles meeting tip-to-tip)\n- **Usage**: Used when two or more inputs are brought together to be organized, matched, or compared\n- **D2 shape**: `diamond` (approximation; D2 has no hourglass shape)\n\n### 21. Sort\n- **Shape**: Diamond with a horizontal line through the middle\n- **Usage**: Used when a process step involves arranging items in a specific order\n- **D2 shape**: `diamond` (with \"Sort\" label)\n\n### 22. Offline Storage\n- **Shape**: Solid triangle pointing downward\n- **Usage**: Used when a process involves storing data or documents in a physical or offline location\n- **D2 shape**: `stored_data` (approximation; D2 has no triangle shape)\n\n### 23. Database\n- **Shape**: Cylinder (like a barrel/can viewed from the side)\n- **Usage**: Represents structured data storage, typically in a relational database\n- **D2 shape**: `cylinder`\n\n### 24. Internal Storage\n- **Shape**: Rectangle with a small square notch cut from the upper-left corner\n- **Usage**: Represents data held within the process or system's internal memory (RAM, cache)\n- **D2 shape**: `square` (approximation; use thick inner border convention)\n\n---\n\n## Classification by Frequency of Use\n\n### Tier 1 — Core (use in 90%+ of flowcharts)\n| Symbol | Shape | D2 | When to use |\n|--------|-------|----|-------------|\n| **Terminator** | Oval | `oval` | Start / End of any process |\n| **Process** | Rectangle | `rectangle` | Any action, task, operation, computation |\n| **Decision** | Diamond | `diamond` | Yes/No branch, conditional check |\n| **Data (I/O)** | Parallelogram | `parallelogram` | Input entering or output leaving |\n| **Arrow** | → line | edge `->` | Direction of flow between symbols |\n\n### Tier 2 — Common (use in ~50% of flowcharts)\n| Symbol | Shape | D2 | When to use |\n|--------|-------|----|-------------|\n| **Document** | Wavy-bottom rect | `page` | Report, file, form generated/used |\n| **Database** | Cylinder | `cylinder` | SQL/NoSQL data storage |\n| **Subroutine** | Double-bar rect | `step` | Call to a predefined function/subprocess |\n| **Preparation** | Hexagon | `hexagon` | Setup, initialization, config loading |\n| **Connector** | Circle | `circle` | Link flowchart parts on same page |\n| **Stored Data** | Curved-side rect | `stored_data` | General persistent data (disk, cache) |\n\n### Tier 3 — Specialized (use when needed)\n| Symbol | Shape | D2 | When to use |\n|--------|-------|----|-------------|\n| **Delay** | D-shape | `queue` | Wait, pause, timeout |\n| **Manual Input** | Slant-top rect | `parallelogram` | User types data into system |\n| **Display** | Curved-left rect | `rectangle` | Show output on screen |\n| **Multi-Document** | Stacked pages | `page` + 3d | Batch of documents |\n| **Off-page Connector** | Pentagon | `package` | Flow continues on another page |\n| **Internal Storage** | Notched square | `square` | RAM, memory, cache |\n| **Loop Limit** | Flat-bottom pentagon | `package` | Loop boundary / max iterations |\n| **Manual Loop** | Notched rectangle | `hexagon` | Repeat until human says stop |\n\n### Tier 4 — Rare (specialized diagrams only)\n| Symbol | Shape | D2 | When to use |\n|--------|-------|----|-------------|\n| **Summing Junction** | Circle + | `circle` | Multiple paths merge |\n| **AND** | Circle x | `circle` | All conditions must be met |\n| **Collate** | Hourglass | `diamond` | Compare/match multiple inputs |\n| **Sort** | Diamond + line | `diamond` | Arrange items in order |\n| **Offline Storage** | Triangle | `stored_data` | Physical/offline archive |\n\n---\n\n## Shape-to-Meaning Quick Lookup\n\n| Shape | Meaning | Standard Name |\n|-------|---------|---------------|\n| **Oval** | Start or End | Terminator |\n| **Rectangle** | Do something | Process |\n| **Diamond** | Ask a question | Decision |\n| **Parallelogram** | Data in/out | Data (I/O) |\n| **Wavy-bottom rect** | A document | Document |\n| **Cylinder** | Database | Database |\n| **Hexagon** | Setup / prepare | Preparation |\n| **Double-bar rect** | Call subroutine | Subroutine |\n| **D-shape** | Wait / delay | Delay |\n| **Curved-side rect** | Saved data | Stored Data |\n| **Circle** | Connector | Connector |\n| **Pentagon** | Off-page link | Off-page Connector |\n| **Arrow line** | Flow direction | Arrow |\n\n---\n\n## Color Standard\n\nEvery symbol has a **fixed hue** tied to its semantic role. These colors are used as fill/stroke in D2 and as category colors in React Flow.\n\n### Node Color Palette\n\n| Hue | Fill | Stroke | Font | Applies to |\n|-----|------|--------|------|------------|\n| **Violet** | `#EDE9FE` | `#7C3AED` | `#4C1D95` | Terminator (Start/End) |\n| **Blue** | `#DBEAFE` | `#2563EB` | `#1E3A8A` | Process (action, task) |\n| **Amber** | `#FEF3C7` | `#D97706` | `#78350F` | Decision (branch), Loop Limit |\n| **Slate** | `#F1F5F9` | `#475569` | `#1E293B` | Data I/O |\n| **Indigo** | `#E0E7FF` | `#4F46E5` | `#312E81` | Document, Multi-Document |\n| **Orange** | `#FFEDD5` | `#EA580C` | `#7C2D12` | Subroutine, Manual Input, Manual Loop |\n| **Pink** | `#FCE7F3` | `#DB2777` | `#831843` | Preparation (setup, init) |\n| **Teal** | `#CCFBF1` | `#0D9488` | `#134E4A` | Database, Internal Storage |\n| **Teal-light** | `#F0FDFA` | `#14B8A6` | `#134E4A` | Stored Data |\n| **Stone** | `#F5F5F4` | `#78716C` | `#292524` | Delay, External (ext.) |\n| **Emerald** | `#D1FAE5` | `#059669` | `#064E3B` | Display, AI/LLM (ext.) |\n| **Gray** | `#F3F4F6` | `#9CA3AF` | `#374151` | Connector, Off-page Connector |\n| **Neutral** | `#FAFAFA` | `#D1D5DB` | — | Group container |\n\n### Edge Color Palette\n\n| Edge Type | Color | Hex | Width | Dash | Opacity |\n|-----------|-------|-----|-------|------|---------|\n| **Primary Flow** | Black | `#111827` | 3px | solid | 0.85 |\n| **Gate Pass (Yes)** | Green | `#16A34A` | 2px | solid | 0.80 |\n| **Gate Fail (No)** | Red | `#DC2626` | 2px | dash 5 | 0.70 |\n| **Data Flow** | Gray-Blue | `#6B8DB2` | 1.5px | solid | 0.50 |\n| **Skip / Depth Jump** | Slate | `#64748B` | 1.5px | dash 5 | 0.40 |\n| **Feedback** | Purple | `#7C3AED` | 1.5px | dot 2 | 0.45 |\n\n---\n\n## Edge Types — 6 Standard Types\n\n### 1. Primary Flow (main path)\n- **Style**: Black solid, 3px\n- **Usage**: The main sequential path through the flowchart. THE ONLY edge visible in Overview.\n- **Label**: None (unlabeled)\n\n### 2. Gate Pass (Yes branch)\n- **Style**: Green solid, 2px\n- **Usage**: The \"Yes\" / \"Pass\" / \"True\" outgoing edge from a Decision diamond.\n- **Label**: `pass` (or `yes`, `true`)\n- **Rule**: Every binary Decision MUST have exactly 1 green Pass edge + 1 red Fail edge.\n\n### 3. Gate Fail (No branch)\n- **Style**: Red dashed, 2px\n- **Usage**: The \"No\" / \"Fail\" / \"False\" outgoing edge from a Decision diamond. Typically loops back to a rework step.\n- **Label**: `fail` (or `no`, `false`)\n- **Rule**: Pairs with Gate Pass. Red = stop/rework/retry.\n\n### 4. Data Flow\n- **Style**: Gray-blue thin solid, 1.5px\n- **Usage**: Data or artifact transfer between nodes. Does NOT compete visually with the primary path.\n- **Label**: Name of data (e.g., `\"report.csv\"`, `\"config\"`)\n\n### 5. Skip / Depth Jump\n- **Style**: Slate gray dashed, 1.5px\n- **Usage**: Skip ahead, depth-level jump, or cross-reference link. Neutral, non-directional feel.\n- **Label**: Optional (e.g., `\"skip to\"`, `\"see also\"`)\n\n### 6. Feedback\n- **Style**: Purple dotted, 1.5px\n- **Usage**: Iteration, retry, teachback, or loop-back edge. Always points upstream.\n- **Label**: Optional (e.g., `\"retry\"`, `\"teachback\"`)\n- **Rule**: Max 1 feedback edge in Overview. NEVER self-loop.\n\n### Gate Design Rule\n\nA **binary Decision** (diamond) always has exactly **2 outgoing edges**:\n\n```\n           ┌─── pass (green solid) ──→ [Next Step]\n [Decision]\n           └─── fail (red dashed) ──→ [Rework / Retry]\n```\n\nThe color alone tells the reader \"pass\" or \"fail\" at a glance — no need to read labels.\n",
      "word_count": 1963,
      "skill_count": 1,
      "skills_using": [
        "flowchart"
      ]
    },
    {
      "id": "peer-review--reporting_standards",
      "title": "Scientific Reporting Standards and Guidelines",
      "category": "general",
      "version": "auto",
      "source_skill": "peer-review",
      "preview_type": null,
      "preview_content": "",
      "body_md": "# Scientific Reporting Standards and Guidelines\n\nThis document catalogs major reporting standards and guidelines across scientific disciplines. When reviewing manuscripts, verify that authors have followed the appropriate guidelines for their study type and discipline.\n\n## Clinical Trials and Medical Research\n\n### CONSORT (Consolidated Standards of Reporting Trials)\n**Purpose:** Randomized controlled trials (RCTs)\n**Key Requirements:**\n- Trial design, participants, and interventions clearly described\n- Primary and secondary outcomes specified\n- Sample size calculation and statistical methods\n- Participant flow through trial (enrollment, allocation, follow-up, analysis)\n- Baseline characteristics of participants\n- Numbers analyzed in each group\n- Outcomes and estimation with confidence intervals\n- Adverse events\n- Trial registration number and protocol access\n\n**Reference:** http://www.consort-statement.org/\n\n### STROBE (Strengthening the Reporting of Observational Studies in Epidemiology)\n**Purpose:** Observational studies (cohort, case-control, cross-sectional)\n**Key Requirements:**\n- Study design clearly stated\n- Setting, eligibility criteria, and participant sources\n- Variables clearly defined\n- Data sources and measurement methods\n- Bias assessment\n- Sample size justification\n- Statistical methods including handling of missing data\n- Participant flow and characteristics\n- Main results with confidence intervals\n- Limitations discussed\n\n**Reference:** https://www.strobe-statement.org/\n\n### PRISMA (Preferred Reporting Items for Systematic Reviews and Meta-Analyses)\n**Purpose:** Systematic reviews and meta-analyses\n**Key Requirements:**\n- Protocol registration\n- Systematic search strategy across multiple databases\n- Inclusion/exclusion criteria\n- Study selection process\n- Data extraction methods\n- Quality assessment of included studies\n- Statistical methods for meta-analysis\n- Assessment of publication bias\n- Heterogeneity assessment\n- PRISMA flow diagram showing study selection\n- Summary of findings tables\n\n**Reference:** http://www.prisma-statement.org/\n\n### SPIRIT (Standard Protocol Items: Recommendations for Interventional Trials)\n**Purpose:** Clinical trial protocols\n**Key Requirements:**\n- Administrative information (title, registration, funding)\n- Introduction (rationale, objectives)\n- Methods (design, participants, interventions, outcomes, sample size)\n- Ethics and dissemination\n- Trial schedule and assessments\n\n**Reference:** https://www.spirit-statement.org/\n\n### CARE (CAse REport guidelines)\n**Purpose:** Case reports\n**Key Requirements:**\n- Patient information and demographics\n- Clinical findings\n- Timeline of events\n- Diagnostic assessment\n- Therapeutic interventions\n- Follow-up and outcomes\n- Patient perspective\n- Informed consent\n\n**Reference:** https://www.care-statement.org/\n\n## Animal Research\n\n### ARRIVE (Animal Research: Reporting of In Vivo Experiments)\n**Purpose:** Studies involving animal research\n**Key Requirements:**\n- Title indicates study involves animals\n- Abstract provides accurate summary\n- Background and objectives clearly stated\n- Ethical statement and approval\n- Housing and husbandry details\n- Animal details (species, strain, sex, age, weight)\n- Experimental procedures in detail\n- Experimental animals (number, allocation, welfare assessment)\n- Statistical methods appropriate\n- Exclusion criteria stated\n- Sample size determination\n- Randomization and blinding described\n- Outcome measures defined\n- Adverse events reported\n\n**Reference:** https://arriveguidelines.org/\n\n## Genomics and Molecular Biology\n\n### MIAME (Minimum Information About a Microarray Experiment)\n**Purpose:** Microarray experiments\n**Key Requirements:**\n- Experimental design clearly described\n- Array design information\n- Samples (origin, preparation, labeling)\n- Hybridization procedures and parameters\n- Image acquisition and quantification\n- Normalization and data transformation\n- Raw and processed data availability\n- Database accession numbers\n\n**Reference:** http://fged.org/projects/miame/\n\n### MINSEQE (Minimum Information about a high-throughput Nucleotide Sequencing Experiment)\n**Purpose:** High-throughput sequencing (RNA-seq, ChIP-seq, etc.)\n**Key Requirements:**\n- Experimental design and biological context\n- Sample information (source, preparation, QC)\n- Library preparation (protocol, adapters, size selection)\n- Sequencing platform and parameters\n- Data processing pipeline (alignment, quantification, normalization)\n- Quality control metrics\n- Raw data deposition (SRA, GEO, ENA)\n- Processed data and analysis code availability\n\n### MIGS/MIMS (Minimum Information about a Genome/Metagenome Sequence)\n**Purpose:** Genome and metagenome sequencing\n**Key Requirements:**\n- Sample origin and environmental context\n- Sequencing methods and coverage\n- Assembly methods and quality metrics\n- Annotation approach\n- Quality control and contamination screening\n- Data deposition in INSDC databases\n\n**Reference:** https://gensc.org/\n\n## Structural Biology\n\n### PDB (Protein Data Bank) Deposition Requirements\n**Purpose:** Macromolecular structure determination\n**Key Requirements:**\n- Atomic coordinates deposited\n- Structure factors for X-ray structures\n- Restraints and experimental data for NMR\n- EM maps and metadata for cryo-EM\n- Model quality validation metrics\n- Experimental conditions (crystallization, sample preparation)\n- Data collection parameters\n- Refinement statistics\n\n**Reference:** https://www.wwpdb.org/\n\n## Proteomics and Mass Spectrometry\n\n### MIAPE (Minimum Information About a Proteomics Experiment)\n**Purpose:** Proteomics experiments\n**Key Requirements:**\n- Sample processing and fractionation\n- Separation methods (2D gel, LC)\n- Mass spectrometry parameters (instrument, acquisition)\n- Database search and validation parameters\n- Peptide and protein identification criteria\n- Quantification methods\n- Statistical analysis\n- Data deposition (PRIDE, PeptideAtlas)\n\n**Reference:** http://www.psidev.info/\n\n## Neuroscience\n\n### COBIDAS (Committee on Best Practices in Data Analysis and Sharing)\n**Purpose:** MRI and fMRI studies\n**Key Requirements:**\n- Scanner and sequence parameters\n- Preprocessing pipeline details\n- Software versions and parameters\n- Statistical analysis approach\n- Multiple comparison correction\n- ROI definitions\n- Data sharing (raw data, analysis scripts)\n\n**Reference:** https://www.humanbrainmapping.org/cobidas\n\n## Flow Cytometry\n\n### MIFlowCyt (Minimum Information about a Flow Cytometry Experiment)\n**Purpose:** Flow cytometry experiments\n**Key Requirements:**\n- Experimental overview and purpose\n- Sample characteristics and preparation\n- Instrument information and settings\n- Reagents (antibodies, fluorophores, concentrations)\n- Compensation and controls\n- Gating strategy\n- Data analysis approach\n- Data availability\n\n**Reference:** http://flowcyt.org/\n\n## Ecology and Environmental Science\n\n### MIAPPE (Minimum Information About a Plant Phenotyping Experiment)\n**Purpose:** Plant phenotyping studies\n**Key Requirements:**\n- Investigation and study metadata\n- Biological material information\n- Environmental parameters\n- Experimental design and factors\n- Phenotypic measurements and methods\n- Data file descriptions\n\n**Reference:** https://www.miappe.org/\n\n## Chemistry and Chemical Biology\n\n### MIRIBEL (Minimum Information Reporting in Bio-Nano Experimental Literature)\n**Purpose:** Nanomaterial characterization\n**Key Requirements:**\n- Nanomaterial composition and structure\n- Size, shape, and morphology characterization\n- Surface chemistry and functionalization\n- Purity and stability\n- Experimental conditions\n- Characterization methods\n\n## Quality Assessment and Bias\n\n### CAMARADES (Collaborative Approach to Meta-Analysis and Review of Animal Data from Experimental Studies)\n**Purpose:** Quality assessment for animal studies in systematic reviews\n**Key Items:**\n- Publication in peer-reviewed journal\n- Statement of temperature control\n- Randomization to treatment\n- Blinded assessment of outcome\n- Avoidance of anesthetic with marked intrinsic properties\n- Use of appropriate animal model\n- Sample size calculation\n- Compliance with regulatory requirements\n- Statement of conflict of interest\n- Study pre-registration\n\n### SYRCLE's Risk of Bias Tool\n**Purpose:** Assessing risk of bias in animal intervention studies\n**Domains:**\n- Selection bias (sequence generation, baseline characteristics, allocation concealment)\n- Performance bias (random housing, blinding of personnel)\n- Detection bias (random outcome assessment, blinding of assessors)\n- Attrition bias (incomplete outcome data)\n- Reporting bias (selective outcome reporting)\n- Other sources of bias\n\n## General Principles Across Guidelines\n\n### Common Requirements\n1. **Transparency:** All methods, materials, and analyses fully described\n2. **Reproducibility:** Sufficient detail for independent replication\n3. **Data Availability:** Raw data and analysis code shared or deposited\n4. **Registration:** Studies pre-registered where applicable\n5. **Ethics:** Appropriate approvals and consent documented\n6. **Conflicts of Interest:** Disclosed for all authors\n7. **Statistical Rigor:** Methods appropriate and fully described\n8. **Completeness:** All outcomes reported, including negative results\n\n### Red Flags for Non-Compliance\n- Methods section lacks critical details\n- No mention of following reporting guidelines\n- Data availability statement missing or vague\n- No database accession numbers for omics data\n- No trial registration for clinical studies\n- Sample size not justified\n- Statistical methods inadequately described\n- Missing flow diagrams (CONSORT, PRISMA)\n- Selective reporting of outcomes\n\n## How to Use This Reference\n\nWhen reviewing a manuscript:\n1. Identify the study type and discipline\n2. Find the relevant reporting guideline(s)\n3. Check if authors mention following the guideline\n4. Verify that key requirements are addressed\n5. Note any missing elements in your review\n6. Suggest the appropriate guideline if not mentioned\n\nMany journals require authors to complete reporting checklists at submission. Reviewers should verify compliance even if a checklist was submitted.\n",
      "word_count": 1276,
      "skill_count": 1,
      "skills_using": [
        "peer-review"
      ]
    },
    {
      "id": "clinical-reports--diagnostic_reports_standards",
      "title": "Diagnostic Reports Standards",
      "category": "general",
      "version": "auto",
      "source_skill": "clinical-reports",
      "preview_type": null,
      "preview_content": "",
      "body_md": "# Diagnostic Reports Standards\n\n## Radiology Reporting Standards\n\n### American College of Radiology (ACR) Guidelines\n\nThe ACR provides comprehensive practice parameters for diagnostic imaging reporting to ensure quality, consistency, and communication effectiveness.\n\n#### Core Radiology Report Components\n\n**1. Patient Demographics**\n- Patient name and/or unique identifier\n- Date of birth or age\n- Sex\n- Medical record number\n- Examination date and time\n- Referring physician\n\n**2. Procedure/Examination**\n- Specific examination performed\n- Anatomical region\n- Laterality (right, left, bilateral)\n- Technique and protocol\n- Example: \"MRI Brain without and with Contrast\"\n\n**3. Clinical Indication**\n- Reason for examination\n- Relevant clinical history\n- Specific clinical question\n- ICD-10 codes (when required)\n- Example: \"Headache and visual disturbances. Rule out intracranial mass.\"\n\n**4. Comparison**\n- Prior relevant imaging studies\n- Dates of prior studies\n- Modality of prior studies\n- Availability for comparison\n- Example: \"Comparison: CT head without contrast from 6 months prior (January 15, 2023)\"\n\n**5. Technique**\n- Imaging parameters and protocol\n- Contrast administration details:\n  - Type (iodinated, gadolinium)\n  - Route (IV, oral, rectal)\n  - Volume administered\n  - Timing of imaging\n- Technical quality statement\n- Radiation dose (for CT)\n- Limitations or technical issues\n- Example:\n  ```\n  Technique: Multiplanar T1 and T2-weighted sequences were obtained through\n  the brain without and with IV contrast. 15 mL of gadolinium-based contrast\n  agent was administered intravenously. Technical quality is adequate.\n  ```\n\n**6. Findings**\n- Systematic description of imaging findings\n- Organized by anatomical region or organ system\n- Measurements of abnormalities (size, volume)\n- Specific descriptive terminology\n- Pertinent positive findings\n- Relevant negative findings\n- Comparison to prior studies when available\n\n**Organization approaches:**\n- Organ-by-organ (for abdomen/pelvis)\n- Region-by-region (for chest)\n- System-by-system (for spine)\n- Compartment-by-compartment (for musculoskeletal)\n\n**7. Impression/Conclusion**\n- Summary of key findings\n- Diagnosis or differential diagnosis\n- Answers to clinical question\n- Level of concern or urgency\n- Comparison to prior (improved, stable, worsened)\n- Recommendations for further imaging or clinical management\n- Clear and concise (often numbered list)\n\nExample:\n```\nIMPRESSION:\n1. 3.2 cm enhancing mass in the right frontal lobe with surrounding vasogenic\n   edema, most consistent with high-grade glioma. Metastasis cannot be excluded.\n   Clinical correlation and tissue sampling recommended.\n2. No acute intracranial hemorrhage or herniation.\n3. Recommend neurosurgical consultation.\n```\n\n**8. Critical Results Communication**\n- Urgent or unexpected findings requiring immediate action\n- Direct communication to ordering provider documented\n- Time, date, and recipient of verbal communication\n- Example: \"Critical result: Acute pulmonary embolism. Dr. Smith paged at 14:35 on [date].\"\n\n### Structured Reporting Systems\n\n#### Lung-RADS (Lung CT Screening Reporting and Data System)\n\nUsed for lung cancer screening CT interpretation.\n\n**Categories:**\n- **Lung-RADS 0**: Incomplete - additional imaging needed\n- **Lung-RADS 1**: Negative - no nodules, definitely benign nodules\n- **Lung-RADS 2**: Benign appearance or behavior - nodules with very low likelihood of malignancy\n- **Lung-RADS 3**: Probably benign - short-interval follow-up suggested\n- **Lung-RADS 4A**: Suspicious - 3-month follow-up or PET/CT\n- **Lung-RADS 4B**: Very suspicious - 3-month follow-up or PET/CT, consider biopsy\n- **Lung-RADS 4X**: Very suspicious with additional features, consider biopsy\n\n**Management recommendations included for each category**\n\n#### BI-RADS (Breast Imaging Reporting and Data System)\n\nStandardized lexicon for breast imaging (mammography, ultrasound, MRI).\n\n**Categories:**\n- **BI-RADS 0**: Incomplete - need additional imaging\n- **BI-RADS 1**: Negative - no abnormalities\n- **BI-RADS 2**: Benign findings\n- **BI-RADS 3**: Probably benign - short-interval follow-up (6 months)\n- **BI-RADS 4**: Suspicious - biopsy recommended\n  - 4A: Low suspicion\n  - 4B: Moderate suspicion\n  - 4C: High suspicion\n- **BI-RADS 5**: Highly suggestive of malignancy - biopsy recommended\n- **BI-RADS 6**: Known biopsy-proven malignancy\n\n**Descriptors:**\n- Mass: Shape, margin, density\n- Calcifications: Morphology, distribution\n- Asymmetry: Type and characteristics\n- Associated features\n\n#### LI-RADS (Liver Imaging Reporting and Data System)\n\nFor reporting liver observations in patients at risk for hepatocellular carcinoma.\n\n**Categories:**\n- **LI-RADS 1**: Definitely benign\n- **LI-RADS 2**: Probably benign\n- **LI-RADS 3**: Intermediate probability of malignancy\n- **LI-RADS 4**: Probably HCC\n- **LI-RADS 5**: Definitely HCC\n- **LI-RADS M**: Probably or definitely malignant, not HCC-specific\n- **LI-RADS TIV**: Tumor in vein\n\n**Major features assessed:**\n- Size\n- Enhancement pattern (arterial phase hyperenhancement, washout)\n- Capsule appearance\n- Threshold growth\n\n#### PI-RADS (Prostate Imaging Reporting and Data System)\n\nFor multiparametric MRI of the prostate.\n\n**Assessment categories:**\n- **PI-RADS 1**: Very low - clinically significant cancer highly unlikely\n- **PI-RADS 2**: Low - clinically significant cancer unlikely\n- **PI-RADS 3**: Intermediate - equivocal\n- **PI-RADS 4**: High - clinically significant cancer likely\n- **PI-RADS 5**: Very high - clinically significant cancer highly likely\n\n**Evaluation:**\n- Peripheral zone: DWI/ADC primary determinant\n- Transition zone: T2-weighted primary determinant\n- DCE (dynamic contrast-enhanced): Used for PI-RADS 3 lesions in peripheral zone\n\n### RadLex and Standardized Terminology\n\n**RadLex** is a comprehensive lexicon for radiology developed by the Radiological Society of North America (RSNA).\n\n**Benefits:**\n- Standardized terminology\n- Improved communication\n- Enables data mining and analytics\n- Facilitates decision support systems\n- Consistent report structure\n\n**Common RadLex terms:**\n- Anatomical structures\n- Imaging observations\n- Disease entities\n- Procedures\n\n### Radiological Measurements\n\n**Linear measurements:**\n- Use bidimensional (length × width) or tridimensional (length × width × height)\n- Report largest dimension for nodules/masses\n- Consistent measurement methodology for follow-up\n- Perpendicular measurements when possible\n\n**Volumetric measurements:**\n- More accurate for follow-up of irregular lesions\n- Automated or semi-automated software\n- Particularly useful for lung nodules\n\n**Response assessment:**\n- RECIST 1.1 (Response Evaluation Criteria in Solid Tumors)\n  - Target lesions: sum of longest diameters (maximum 5 lesions, 2 per organ)\n  - Complete response, partial response, stable disease, progressive disease\n\n## Pathology Reporting Standards\n\n### College of American Pathologists (CAP) Protocols\n\nCAP cancer protocols provide standardized synoptic reporting templates for cancer specimens.\n\n#### Synoptic Reporting Elements\n\n**Core elements for all cancer specimens:**\n\n**1. Specimen Information**\n- Procedure type (biopsy, excision, resection)\n- Specimen laterality\n- Specimen integrity and adequacy\n\n**2. Tumor Site**\n- Anatomical site and subsite\n- Precise location within organ\n\n**3. Tumor Size**\n- Greatest dimension in cm\n- Additional dimensions if 3D measurement relevant\n- Method of measurement (gross vs. microscopic)\n\n**4. Histologic Type**\n- WHO classification\n- Specific subtype\n- Percentage of each component in mixed tumors\n\n**5. Histologic Grade**\n- Grading system used (e.g., Nottingham, Fuhrman, Gleason)\n- Grade category (well, moderately, poorly differentiated OR G1, G2, G3)\n- Individual component scores if applicable\n\n**6. Extent of Invasion**\n- Depth of invasion (measured in mm)\n- Involvement of adjacent structures\n- Lymphovascular invasion (present/not identified)\n- Perineural invasion (present/not identified)\n\n**7. Margins**\n- Closest margin distance\n- Margin status for each margin assessed (negative/positive)\n- Specific margin(s) involved if positive\n\n**8. Lymph Nodes**\n- Number of lymph nodes examined\n- Number of lymph nodes with metastasis\n- Size of largest metastatic deposit\n- Extranodal extension (present/absent)\n\n**9. Pathologic Stage (pTNM)**\n- pT: Primary tumor extent\n- pN: Regional lymph nodes\n- pM: Distant metastasis (if known)\n- AJCC Cancer Staging Manual edition used\n\n**10. Additional Findings**\n- Treatment effect (if post-neoadjuvant therapy)\n- Associated lesions (dysplasia, carcinoma in situ)\n- Background tissue (cirrhosis, inflammation)\n\n**11. Ancillary Studies**\n- Immunohistochemistry results\n- Molecular/genetic testing results\n- Biomarker status (e.g., ER, PR, HER2 for breast; MSI for colon)\n- FISH or other cytogenetic results\n\n#### Organ-Specific CAP Protocols\n\n**Breast Cancer:**\n- Histologic type (invasive ductal, lobular, special types)\n- Nottingham grade (tubule formation, nuclear pleomorphism, mitotic count)\n- ER/PR status (percentage and intensity)\n- HER2 status (IHC score, FISH if needed)\n- Ki-67 proliferation index\n- DCIS component (if present)\n- Response to neoadjuvant therapy (residual cancer burden)\n\n**Colorectal Cancer:**\n- Histologic type (adenocarcinoma, mucinous, etc.)\n- Grade\n- Depth of invasion (into submucosa, muscularis propria, pericolic tissue, etc.)\n- Tumor deposits\n- Lymph nodes (number positive/total examined)\n- Margins (proximal, distal, radial/circumferential)\n- MSI/MMR status\n- KRAS, NRAS, BRAF mutations\n\n**Prostate Cancer:**\n- Gleason score (primary + secondary pattern)\n- Grade group (1-5)\n- Percentage of tissue involved\n- Extraprostatic extension\n- Seminal vesicle invasion\n- Surgical margin status\n- Lymph nodes if sampled\n\n**Lung Cancer:**\n- Histologic type (adenocarcinoma, squamous, small cell, etc.)\n- Grade (for NSCLC)\n- Invasion depth\n- Visceral pleural invasion\n- Distance to margins\n- Lymph nodes\n- Molecular markers (EGFR, ALK, ROS1, PD-L1)\n\n### Gross Pathology Description\n\n**Essential elements:**\n- Specimen labeling and identification\n- Type of specimen\n- Dimensions and weight\n- Orientation markers (if present)\n- External surface description\n- Cut surface appearance\n- Lesion description:\n  - Size (3 dimensions)\n  - Location\n  - Color\n  - Consistency\n  - Borders (well-circumscribed, infiltrative)\n  - Distance to margins\n- Sampling approach (how tissue was sectioned and submitted)\n\n**Example:**\n```\nGROSS DESCRIPTION:\nReceived fresh, labeled with patient name and \"left breast, lumpectomy\" is an\noriented lumpectomy specimen measuring 8.5 x 6.0 x 4.0 cm, with a suture\nindicating superior margin. Inking: superior - blue, inferior - black, medial -\ngreen, lateral - red, anterior - orange, posterior - yellow. Serially sectioned\nto reveal a firm, gray-white mass measuring 2.1 x 1.8 x 1.5 cm, located 2.5 cm\nfrom superior, 3.0 cm from inferior, 2.0 cm from medial, 3.5 cm from lateral,\n1.5 cm from anterior, and 1.8 cm from posterior margins. Representative sections\nsubmitted as follows: A1-A3 tumor, A4 superior margin, A5 medial margin, A6\nposterior margin.\n```\n\n### Microscopic Description\n\n**Key elements:**\n- Architectural pattern\n- Cellular characteristics\n  - Cell type\n  - Nuclear features (size, shape, chromatin, nucleoli)\n  - Cytoplasmic features\n  - Mitotic activity\n- Degree of differentiation\n- Invasion pattern\n- Special features (necrosis, hemorrhage, calcification)\n- Stroma and background tissue\n- Lymphovascular or perineural invasion\n- Margins (distance and status)\n- Lymph nodes (description of metastases)\n\n### Frozen Section Reporting\n\n**Indications:**\n- Intraoperative diagnosis\n- Margin assessment\n- Lymph node evaluation\n- Tissue triage\n\n**Report format:**\n- \"Frozen section diagnosis\" clearly labeled\n- Intraoperative consultation note\n- Time of frozen section\n- Specimen description\n- Frozen section diagnosis\n- Note: \"Permanent sections to follow\"\n\n**Frozen section disclaimers:**\n- Limited by frozen artifact\n- Final diagnosis on permanent sections\n- Defer to permanent sections for definitive diagnosis\n\n### Diagnostic Certainty Language\n\n**Definitive:**\n- \"Consistent with...\"\n- \"Diagnostic of...\"\n- \"Positive for...\"\n\n**Probable:**\n- \"Consistent with...\"\n- \"Favor...\"\n- \"Most likely...\"\n\n**Possible:**\n- \"Suggestive of...\"\n- \"Cannot exclude...\"\n- \"Differential diagnosis includes...\"\n\n**Defer:**\n- \"Defer to...\"\n- \"Recommend...\"\n- \"Additional studies pending...\"\n\n## Laboratory Reporting Standards\n\n### Clinical Laboratory Standards Institute (CLSI) Guidelines\n\nCLSI provides standards for laboratory testing and reporting.\n\n#### Laboratory Report Components\n\n**1. Patient Demographics**\n- Patient name and identifier\n- Date of birth or age\n- Sex\n- Ordering provider\n\n**2. Specimen Information**\n- Specimen type (blood, serum, plasma, urine, CSF, etc.)\n- Collection date and time\n- Received date and time\n- Specimen condition\n- Fasting status (if relevant)\n\n**3. Test Information**\n- Test name (full, not just abbreviation)\n- Test code\n- Methodology\n- Accession or specimen number\n\n**4. Results**\n- Quantitative value with units\n- Qualitative result (positive/negative, detected/not detected)\n- Reference range or interval\n- Flags for abnormal results\n  - H = High\n  - L = Low\n  - Critical or panic values highlighted\n\n**5. Reference Intervals**\n- Age-specific\n- Sex-specific\n- Population-specific (when relevant)\n- Method-specific\n- Units clearly stated\n\n**Example:**\n```\nTest: Hemoglobin A1c\nResult: 8.2%  (H)\nReference Range: 4.0-5.6% (non-diabetic)\nMethod: HPLC\nInterpretation: Consistent with poorly controlled diabetes\n```\n\n**6. Interpretative Comments**\n- When result requires context\n- Suggests additional testing\n- Explains interferences or limitations\n- Provides clinical guidance\n\n**7. Quality Control**\n- Delta checks (comparison to prior values)\n- Critical values and read-back procedure\n- Specimen quality issues (hemolysis, lipemia, icterus)\n- Dilutions performed\n- Repeat testing if needed\n\n### LOINC (Logical Observation Identifiers Names and Codes)\n\nStandard coding system for laboratory and clinical observations.\n\n**LOINC code components:**\n- Component (analyte measured)\n- Property (mass, substance concentration, etc.)\n- Timing (point in time, 24-hour)\n- System (specimen type)\n- Scale (quantitative, ordinal, nominal)\n- Method (when relevant)\n\n**Example:**\n- Hemoglobin A1c in Blood: 4548-4\n- Glucose in Serum/Plasma: 2345-7\n- Creatinine in Serum/Plasma: 2160-0\n\n### Critical Value Reporting\n\n**Definition:** Results that indicate life-threatening conditions requiring immediate clinical action.\n\n**Critical value examples:**\n- Glucose: <40 mg/dL or >500 mg/dL\n- Potassium: <2.5 mEq/L or >6.5 mEq/L\n- Sodium: <120 mEq/L or >160 mEq/L\n- Calcium: <6.0 mg/dL or >13.0 mg/dL\n- WBC: <1.0 × 10³/μL or >50 × 10³/μL\n- Hemoglobin: <5.0 g/dL\n- Platelets: <20 × 10³/μL\n- INR: >5.0 (on warfarin)\n- Positive blood culture\n- Positive CSF culture or gram stain\n\n**Critical value procedure:**\n1. Result identified by laboratory\n2. Immediate contact with ordering provider or designee\n3. Read-back verification\n4. Documentation:\n   - Date and time\n   - Person contacted\n   - Person receiving notification\n   - Test and result\n5. Follow facility policy for unable to reach provider\n\n### Microbiology Reporting\n\n**Culture reports:**\n- Specimen type and source\n- Organisms identified\n- Quantity (light, moderate, heavy growth)\n- Antimicrobial susceptibility results\n- Interpretation (susceptible, intermediate, resistant)\n- MIC values when applicable\n\n**Gram stain reports:**\n- Bacteria present (Gram-positive/negative, morphology)\n- Quantity and cellular context\n- WBCs or other cells present\n\n**Preliminary reports:**\n- Issued before final identification\n- Clearly labeled \"PRELIMINARY\"\n- Final report to follow\n\n**Final reports:**\n- Definitive organism identification\n- Complete susceptibility panel\n- Interpretative comments\n\n### Molecular Pathology/Genomics Reporting\n\n**Components:**\n- Gene(s) tested\n- Variant(s) detected\n- Classification (pathogenic, likely pathogenic, VUS, likely benign, benign)\n- Allele frequency\n- Methodology (NGS, Sanger sequencing, PCR, etc.)\n- Reference sequence\n- Clinical significance and interpretation\n- Recommendations (treatment implications, family testing)\n- Limitations of testing\n\n**Example:**\n```\nTest: BRCA1/BRCA2 Full Gene Sequencing\nResult: PATHOGENIC VARIANT DETECTED\nGene: BRCA1\nVariant: c.68_69delAG (p.Glu23ValfsTer17)\nClassification: Pathogenic\nInterpretation: This variant is associated with increased risk of breast and\novarian cancer. Genetic counseling and risk-reducing strategies recommended.\nFamily testing should be considered.\n```\n\n### Point-of-Care Testing (POCT)\n\n**Requirements:**\n- Same quality standards as central laboratory\n- Operator competency documentation\n- Quality control documentation\n- Maintenance records\n- Result documentation in medical record\n\n**Common POCT:**\n- Blood glucose\n- Hemoglobin/hematocrit\n- INR\n- Blood gas\n- Pregnancy test\n- Urinalysis\n- Rapid strep\n- Influenza\n\n## Quality Indicators for Diagnostic Reports\n\n### Radiology Quality Metrics\n\n- Report turnaround time (routine vs. urgent)\n- Critical result communication time\n- Report error rates\n- Addendum rate\n- Referring physician satisfaction\n\n**Benchmarks:**\n- Routine reports: <24 hours\n- Urgent reports: <4 hours\n- STAT reports: <1 hour\n- Critical findings: Immediate verbal communication\n\n### Pathology Quality Metrics\n\n- Turnaround time (TAT) for different specimen types\n- Frozen section accuracy\n- Amendment rate\n- Specimen adequacy rate\n- Immunohistochemistry QC\n\n**TAT benchmarks:**\n- Surgical pathology routine: 2-3 days\n- Surgical pathology complex: 5-7 days\n- Cytology: 1-2 days\n- Frozen section: 15-20 minutes intraoperatively\n\n### Laboratory Quality Metrics\n\n- TAT from collection to result\n- Critical value notification time\n- Specimen rejection rate\n- Proficiency testing performance\n- Delta check failure rate\n\n**TAT benchmarks:**\n- STAT laboratory: <60 minutes\n- Routine laboratory: 2-4 hours\n- Send-out tests: Per reference laboratory\n\n---\n\nThis reference provides comprehensive standards for diagnostic reporting across radiology, pathology, and laboratory medicine. Refer to these guidelines to ensure reports meet professional standards and regulatory requirements.\n\n",
      "word_count": 2533,
      "skill_count": 1,
      "skills_using": [
        "clinical-reports"
      ]
    },
    {
      "id": "clinical-reports--peer_review_standards",
      "title": "Peer Review Standards for Clinical Manuscripts",
      "category": "general",
      "version": "auto",
      "source_skill": "clinical-reports",
      "preview_type": null,
      "preview_content": "",
      "body_md": "# Peer Review Standards for Clinical Manuscripts\n\n## Overview of Clinical Manuscript Peer Review\n\n### Purpose\n\nPeer review ensures that clinical manuscripts meet standards for scientific rigor, ethical conduct, and clear communication before publication.\n\n**Objectives:**\n- Assess scientific validity and methodology\n- Evaluate clinical significance\n- Verify ethical compliance\n- Ensure clarity and completeness\n- Improve manuscript quality\n\n**Types of peer review:**\n- Single-blind (reviewer knows author, author doesn't know reviewer)\n- Double-blind (both parties anonymous)\n- Open peer review (both parties known)\n- Post-publication peer review\n\n### Reviewer Responsibilities\n\n**Accept reviews only when:**\n- Qualified in the subject area\n- No conflicts of interest\n- Adequate time available (typically 2-3 weeks)\n- Can provide constructive, unbiased evaluation\n\n**Maintain confidentiality:**\n- Do not share manuscript content\n- Do not use information for personal advantage\n- Do not involve others without editor permission\n\n**Provide timely review:**\n- Complete within requested timeframe\n- Notify editor promptly if unable to complete\n\n## Case Report Review Criteria\n\n### CARE Guideline Compliance\n\n**Verify manuscript includes:**\n- [ ] Title identifies it as case report\n- [ ] Keywords provided (2-5)\n- [ ] Structured or unstructured abstract\n- [ ] Introduction explaining why case is novel\n- [ ] Patient information (de-identified)\n- [ ] Clinical findings\n- [ ] Timeline of events\n- [ ] Diagnostic assessment\n- [ ] Therapeutic interventions\n- [ ] Follow-up and outcomes\n- [ ] Discussion with literature review\n- [ ] Patient perspective (if applicable)\n- [ ] Informed consent statement\n\n### Novelty and Significance\n\n**Assess:**\n- Is this case truly novel or does it add to medical knowledge?\n- What makes this case worth reporting?\n- Is the condition rare or presentation unusual?\n- Does it challenge existing knowledge?\n- Are there clinical lessons that can be generalized?\n\n**Red flags:**\n- Common presentation of common condition\n- Single case without unique features\n- Overgeneralization from single case\n- Lack of literature review showing novelty\n\n### Privacy and Ethical Considerations\n\n**Verify:**\n- Informed consent obtained and documented\n- Patient adequately de-identified (18 HIPAA identifiers removed)\n- No identifiable images without explicit consent\n- Dates removed or approximated\n- Geographic information limited to state/country\n- Age appropriate (exact age or range)\n- Institutional identifiers removed\n\n**Ethical concerns:**\n- Missing consent documentation\n- Identifiable information present\n- Lack of IRB approval for retrospective chart review (if applicable)\n- Vulnerable populations without additional protections\n\n### Clinical Quality\n\n**Diagnostic process:**\n- Appropriate workup for presenting symptoms\n- Differential diagnosis considered\n- Logical progression to final diagnosis\n- Adequate documentation of findings\n\n**Treatment:**\n- Evidence-based interventions\n- Rationale for treatment choices\n- Alternative treatments considered\n- Appropriate monitoring and follow-up\n\n**Outcome:**\n- Clear description of clinical outcome\n- Follow-up duration appropriate\n- Complications documented\n- Long-term outcome if available\n\n### Literature Review\n\n**Assess:**\n- Adequate search of existing literature\n- Similar cases identified and discussed\n- Current understanding of condition reviewed\n- Case appropriately contextualized\n- References current and relevant\n- Comparison to prior cases\n\n### Writing Quality\n\n**Structure:**\n- Logical flow and organization\n- CARE guideline structure followed\n- Clear, concise writing\n- Appropriate medical terminology\n\n**Clarity:**\n- Medical jargon explained\n- Timeline clear and easy to follow\n- Chronology of events logical\n- Conclusions supported by case details\n\n## Clinical Trial Manuscript Review Criteria\n\n### Study Design and Methodology\n\n**Assess:**\n- Appropriate study design for research question\n- Clear objectives and hypotheses\n- Well-defined primary and secondary endpoints\n- Adequate sample size with power calculation\n- Randomization and blinding appropriate\n- Control group appropriate\n\n**Red flags:**\n- Post-hoc changes to endpoints\n- Underpowered study claiming equivalence\n- Inappropriate statistical methods\n- Lack of blinding when feasible\n- Selection bias in enrollment\n\n### CONSORT Compliance\n\n**Verify:**\n- Title identifies as randomized trial\n- Structured abstract\n- Trial registration number provided\n- Protocol accessible\n- CONSORT flow diagram included\n- Baseline characteristics table\n- All outcomes reported (not just significant ones)\n- Adverse events reported\n- Funding source disclosed\n- Conflicts of interest declared\n\n### Randomization and Allocation\n\n**Assess:**\n- Adequate sequence generation method\n- Allocation concealment appropriate\n- Baseline characteristics balanced\n- Stratification factors specified\n- Crossovers and protocol deviations documented\n\n### Participant Flow\n\n**Verify:**\n- Number screened reported\n- Exclusion reasons provided\n- Number randomized clear\n- Dropouts and reasons documented\n- Lost to follow-up minimized and explained\n- ITT and per-protocol analyses specified\n- CONSORT diagram complete and accurate\n\n### Outcome Measures\n\n**Primary outcome:**\n- Clearly defined a priori\n- Clinically meaningful\n- Appropriate for research question\n- Measured reliably and validly\n- Statistical analysis appropriate\n\n**Secondary outcomes:**\n- Pre-specified in protocol\n- Analyzed appropriately\n- Multiple comparison correction if needed\n- Not over-interpreted if underpowered\n\n**Exploratory outcomes:**\n- Clearly labeled as exploratory or post-hoc\n- Not given same weight as primary\n- Hypothesis-generating, not confirmatory\n\n### Statistical Analysis\n\n**Assess:**\n- Analysis plan specified before unblinding\n- Appropriate statistical tests\n- Assumptions verified (normality, etc.)\n- Missing data handled appropriately\n- Multiplicity adjustments when needed\n- Confidence intervals provided\n- Effect sizes reported\n\n**Common issues:**\n- p-hacking (selective reporting)\n- Multiple testing without correction\n- Inappropriate subgroup analyses\n- Switching between ITT and per-protocol analyses\n- Missing data ignored or improperly handled\n\n### Safety Reporting\n\n**Verify:**\n- All adverse events reported\n- Serious adverse events detailed\n- Deaths fully described\n- Causality assessed\n- Laboratory abnormalities reported\n- Discontinuations due to AEs documented\n\n### Clinical Significance\n\n**Assess:**\n- Statistical significance vs. clinical significance\n- Magnitude of effect clinically meaningful\n- Number needed to treat (NNT) if applicable\n- Benefit-risk ratio favorable\n- Generalizability to practice\n- Cost-effectiveness considerations\n\n## Diagnostic Study Review Criteria\n\n### STARD Guidelines (Standards for Reporting Diagnostic Accuracy Studies)\n\n**Assess compliance:**\n- Study design described\n- Participant selection criteria\n- Sampling method\n- Data collection procedure\n- Reference standard defined\n- Index test described in detail\n- Blinding addressed\n- Flow of participants clear\n- 2×2 table provided\n- Diagnostic accuracy estimates\n\n### Reference Standard\n\n**Verify:**\n- Appropriate gold standard used\n- Same reference standard for all participants\n- Reference standard performed regardless of index test result\n- Time between index test and reference standard appropriate\n- Independent interpretation of index test and reference standard\n\n### Test Performance\n\n**Required metrics:**\n- Sensitivity and specificity\n- Positive and negative predictive values (with prevalence)\n- Likelihood ratios\n- ROC curve and AUC (if continuous outcome)\n- 95% confidence intervals for all estimates\n\n**Consider:**\n- Pre-test and post-test probabilities\n- Clinical utility beyond accuracy\n- Comparison to existing tests\n- Cost and availability\n\n### Spectrum and Verification Bias\n\n**Assess:**\n- Spectrum of disease severity included\n- Avoiding spectrum bias (only severe cases)\n- Verification bias avoided (all participants get reference standard)\n- Differential verification avoided (different reference standards for different participants)\n\n## Observational Study Review Criteria\n\n### STROBE Guidelines (Strengthening the Reporting of Observational Studies in Epidemiology)\n\n**For cohort, case-control, or cross-sectional studies, verify:**\n- Title and abstract identify study design\n- Background and rationale clear\n- Objectives specified\n- Study design present in methods\n- Setting described\n- Participants described\n- Variables clearly defined\n- Data sources and measurement detailed\n- Bias addressed\n- Study size justified\n- Statistical methods described\n- Results reported with effect sizes and CIs\n\n### Exposure and Outcome Assessment\n\n**Assess:**\n- Exposure clearly defined\n- Outcome clearly defined\n- Measurement methods valid and reliable\n- Blinding of assessors when possible\n- Consistent measurement across groups\n- Time relationship between exposure and outcome appropriate\n\n### Confounding and Bias\n\n**Verify:**\n- Potential confounders identified\n- Adjustment for confounders in analysis\n- Residual confounding discussed\n- Selection bias addressed\n- Information bias considered\n- Sensitivity analyses performed\n\n### Causality\n\n**Bradford Hill Criteria consideration:**\n- Strength of association\n- Consistency across studies\n- Specificity\n- Temporality (exposure precedes outcome)\n- Biological gradient (dose-response)\n- Plausibility\n- Coherence with existing knowledge\n- Experimental evidence\n- Analogy\n\n**Avoid:**\n- Causal language for observational studies without strong evidence\n- Confusing association with causation\n\n## Systematic Review and Meta-Analysis Review Criteria\n\n### PRISMA Guidelines\n\n**Verify:**\n- Title identifies as systematic review/meta-analysis\n- Structured abstract\n- Research question (PICO format)\n- Protocol and registration (PROSPERO)\n- Search strategy comprehensive\n- Study selection process described\n- Data extraction process\n- Quality assessment of included studies\n- Synthesis methods appropriate\n- Results with forest plots\n- Assessment of heterogeneity\n- Publication bias assessed\n- Certainty of evidence (GRADE)\n\n### Search Strategy\n\n**Assess:**\n- Multiple databases searched\n- Search terms comprehensive\n- Limits and filters justified\n- Gray literature considered\n- Hand-searching of references\n- Contact with authors for missing data\n- Search reproducible\n\n### Study Selection\n\n**Verify:**\n- Inclusion/exclusion criteria pre-specified\n- Independent screening by ≥2 reviewers\n- Disagreements resolved appropriately\n- PRISMA flow diagram complete\n- Excluded studies with reasons\n\n### Quality Assessment\n\n**Assess:**\n- Appropriate quality assessment tool used\n  - RCTs: Cochrane Risk of Bias tool\n  - Observational: Newcastle-Ottawa Scale\n  - Diagnostic: QUADAS-2\n- Independent quality assessment\n- Results of quality assessment reported\n- Quality incorporated into synthesis\n\n### Statistical Methods\n\n**For meta-analysis:**\n- Fixed vs. random effects model justified\n- Heterogeneity assessed (I², Q statistic)\n- Forest plot provided\n- Publication bias assessed (funnel plot, Egger's test)\n- Sensitivity analyses performed\n- Subgroup analyses pre-specified\n\n### GRADE Assessment\n\n**Certainty of evidence:**\n- High: Very confident in effect estimate\n- Moderate: Moderately confident\n- Low: Limited confidence\n- Very low: Very little confidence\n\n**Factors decreasing certainty:**\n- Risk of bias\n- Inconsistency\n- Indirectness\n- Imprecision\n- Publication bias\n\n## Manuscript Quality Assessment\n\n### Structure and Organization\n\n**Assess:**\n- Logical flow from introduction through discussion\n- Sections appropriately organized\n- Figures and tables support text\n- Supplementary materials appropriate\n\n### Writing Quality\n\n**Clarity:**\n- Clear, concise language\n- Jargon minimized and defined\n- Abbreviations defined at first use\n- Consistent terminology\n\n**Grammar and style:**\n- Correct grammar and spelling\n- Appropriate verb tense (past for study results, present for established facts)\n- Active voice when appropriate\n- Concise without sacrificing clarity\n\n### References\n\n**Verify:**\n- Adequate number of references\n- Current literature included\n- Key papers cited\n- References formatted correctly\n- All citations in reference list and vice versa\n- No excessive self-citation\n\n### Tables and Figures\n\n**Assess:**\n- Appropriate for data type\n- Clear labels and legends\n- High quality images\n- Can stand alone\n- No redundancy with text\n- Statistical notation correct\n\n## Ethical Considerations in Review\n\n### Conflicts of Interest\n\n**Disclose and recuse if:**\n- Personal relationship with authors\n- Financial interest in outcome\n- Competing research\n- Strong bias for or against topic\n- Institutional conflict\n\n### Fair and Constructive Review\n\n**Provide:**\n- Balanced assessment of strengths and weaknesses\n- Specific, actionable suggestions\n- Respectful tone\n- Objective evaluation\n- Recognition of limitations of study design\n\n**Avoid:**\n- Personal attacks\n- Dismissive language\n- Demanding unreasonable revisions\n- Expecting perfect study\n- Imposing personal preferences over standards\n\n### Confidentiality\n\n**Maintain:**\n- Do not share manuscript\n- Do not discuss with colleagues without permission\n- Do not use ideas or data\n- Destroy copies after review\n\n## Recommendation Categories\n\n**Accept:**\n- Manuscript meets publication standards\n- Minor editing only\n\n**Minor revisions:**\n- Small issues that can be addressed\n- No additional data required\n- Typically one round of revision\n\n**Major revisions:**\n- Significant concerns requiring substantial changes\n- May require additional analyses\n- May require additional data or experiments\n- Typically re-reviewed\n\n**Reject:**\n- Fundamental flaws that cannot be corrected\n- Insufficient novelty or significance\n- Unethical conduct\n- Fraudulent data\n\n**Reject and resubmit:**\n- Study has potential but needs substantial work\n- Essentially new submission after major changes\n\n## Writing the Review Report\n\n### Structure\n\n**Summary:**\n- Brief overview (2-3 sentences)\n- Overall assessment\n- Key strengths (2-3 points)\n- Key weaknesses (2-3 points)\n- Recommendation\n\n**Major comments:**\n- Numbered\n- Significant issues affecting validity, interpretation, or impact\n- Specific and actionable\n- Prioritized\n\n**Minor comments:**\n- Numbered\n- Editorial, formatting, or clarification issues\n- Line-specific comments\n- Table/figure comments\n\n### Tone and Language\n\n**Use:**\n- Professional, collegial tone\n- \"The authors state...\" not \"You state...\"\n- \"This study shows...\" not \"Your study shows...\"\n- Constructive criticism\n- Suggestions for improvement\n\n**Avoid:**\n- Harsh or dismissive language\n- Personal pronouns\n- Sarcasm\n- Vague criticism\n- Unreasonable demands\n\n### Specific and Actionable Feedback\n\n**Good:**\n\"The sample size calculation (page 8) does not account for expected dropout rate. Please revise to include expected dropout and explain how this affects enrollment targets.\"\n\n**Poor:**\n\"Sample size is inadequate.\"\n\n**Good:**\n\"Figure 2 would be clearer if error bars represented 95% CI rather than SEM. Please revise and update figure legend accordingly.\"\n\n**Poor:**\n\"Figure 2 is confusing.\"\n\n---\n\nThis reference provides comprehensive peer review standards for clinical manuscripts including case reports, clinical trials, diagnostic studies, observational studies, and systematic reviews. Use these criteria to conduct thorough, constructive peer reviews.\n\n",
      "word_count": 2148,
      "skill_count": 1,
      "skills_using": [
        "clinical-reports"
      ]
    },
    {
      "id": "treatment-plans--treatment_plan_standards",
      "title": "Treatment Plan Standards",
      "category": "general",
      "version": "auto",
      "source_skill": "treatment-plans",
      "preview_type": null,
      "preview_content": "",
      "body_md": "% Treatment Plan Standards and Best Practices\n% Professional guidelines for treatment plan documentation\n% Last updated: 2025\n\n# Treatment Plan Standards\n\n## Overview\n\nTreatment plans are comprehensive documents that outline systematic approaches to addressing patient health conditions through evidence-based interventions, measurable goals, and structured follow-up. This reference provides professional standards, documentation requirements, and legal considerations for creating high-quality treatment plans across all medical specialties.\n\n## Core Documentation Standards\n\n### 1. Executive Summary Best Practices (Foundation Medicine Model)\n\n**CRITICAL: All treatment plans MUST include a prominent \"Treatment Plan Highlights\" summary box on the first page.**\n\nFollowing the Foundation Medicine model for genomic profiling reports, treatment plans should begin with a concise, bulletin-style summary that provides immediate access to key actionable information:\n\n**Components of Treatment Plan Highlights Box:**\n- **Key Diagnosis**: Primary condition with ICD-10 code, severity/stage (1 line)\n- **Primary Treatment Goals**: 2-3 SMART goals in bullet format\n- **Main Interventions**: 2-3 key interventions (pharmacological, non-pharmacological, monitoring)\n- **Timeline Overview**: Brief treatment duration/phases (1 line)\n\n**Format Requirements:**\n- Use colored box (tcolorbox in LaTeX) to make it visually prominent\n- Place immediately after title, before Patient Information section\n- Summary must fit on first page with patient demographics\n- Use concise, actionable language\n- Focus on what clinicians need to know immediately\n\n**Optimal Document Length:**\n- **Preferred**: 1 page for most treatment plans (quick-reference format)\n- **Standard**: 3-4 pages for moderate complexity cases\n- **Extended**: 5-6 pages maximum for highly complex cases only\n- Prioritize brevity, clarity, and actionability over comprehensive detail\n- Think \"clinical decision support card\" not \"comprehensive textbook\"\n\n**Design Philosophy:**\nThe highlights box enables efficient clinical decision-making by providing critical information upfront, following evidence-based practices from precision medicine reporting. This approach improves care coordination, reduces time to treatment initiation, and ensures key information is never overlooked.\n\n### 2. Essential Components\n\nAll treatment plans must include:\n\n#### Patient Information (De-identified for Sharing)\n- Unique patient identifier (not name or MRN)\n- Age range (not exact birth date)\n- Relevant demographics\n- Date of plan creation\n- Provider name and credentials\n- HIPAA compliance statement\n\n#### Diagnosis and Assessment\n- Primary diagnosis with ICD-10 code\n- Secondary diagnoses and comorbidities\n- Severity classification or staging\n- Functional assessment and baseline status\n- Risk stratification\n- Prognostic considerations\n\n#### Treatment Goals (SMART Format)\n- **Specific**: Clearly defined outcomes\n- **Measurable**: Quantifiable metrics or observable criteria\n- **Achievable**: Realistic given patient circumstances\n- **Relevant**: Aligned with patient values and priorities\n- **Time-bound**: Defined timeframe for achievement\n\nShort-term goals (weeks to 3 months) and long-term goals (3-12+ months) should be distinguished.\n\n#### Interventions\n- **Pharmacological**: Specific medications, doses, frequencies, rationales\n- **Non-pharmacological**: Lifestyle modifications, behavioral interventions, education\n- **Procedural**: Planned procedures, specialist referrals, diagnostic testing\n\n#### Timeline and Schedule\n- Treatment phases with durations\n- Appointment frequency\n- Milestone assessments\n- Expected treatment duration\n\n#### Monitoring Parameters\n- Clinical outcomes to track\n- Assessment tools and scales\n- Monitoring frequency\n- Intervention thresholds\n\n#### Expected Outcomes\n- Primary outcome measures\n- Success criteria\n- Timeline for improvement\n- Criteria for treatment modification\n\n#### Follow-up Plan\n- Scheduled appointments\n- Communication protocols\n- Emergency procedures\n- Transition planning\n\n#### Patient Education\n- Condition understanding\n- Self-management skills\n- Warning signs\n- Resources and support\n\n#### Risk Mitigation\n- Potential adverse effects\n- Safety monitoring\n- Emergency action plans\n- Complication prevention\n\n### 2. Professional Documentation Standards\n\n#### Clarity and Precision\n- Use professional medical terminology appropriately\n- Define abbreviations on first use\n- Avoid ambiguous language\n- Specific rather than vague descriptions\n\n**Good Example**: \"Reduce HbA1c from 8.5% to <7% within 3 months\"  \n**Poor Example**: \"Improve diabetes control\"\n\n#### Completeness\n- Address all relevant aspects of condition\n- Include rationale for treatment choices\n- Document shared decision-making\n- Address patient preferences and concerns\n\n#### Accuracy\n- Factually correct information\n- Current evidence-based recommendations\n- Appropriate dosing and frequencies\n- Correct ICD-10 and CPT codes\n\n#### Timeliness\n- Plans created at diagnosis or treatment initiation\n- Updated after significant clinical changes\n- Regular scheduled updates (quarterly to annually)\n- Dated and signed promptly\n\n#### Legibility and Organization\n- Professional formatting\n- Logical flow and structure\n- Consistent use of headings and sections\n- Easy to locate key information\n\n### 3. Legal and Regulatory Requirements\n\n#### Medical Necessity Documentation\nTreatment plans must demonstrate:\n- Appropriateness of interventions for diagnosis\n- Evidence supporting treatment choices\n- Expected outcomes justify costs and risks\n- Frequency and duration are reasonable\n- Less invasive options considered\n\n#### Informed Consent Documentation\nRecord that patient:\n- Understands diagnosis and prognosis\n- Aware of treatment options, risks, and benefits\n- Knows alternatives to proposed treatment\n- Had opportunity to ask questions\n- Voluntarily agrees to treatment plan\n\n#### Privacy and Confidentiality (HIPAA)\n- Protected Health Information (PHI) safeguarded\n- De-identification for sharing:\n  - Remove 18 HIPAA identifiers per Safe Harbor method\n  - Names, dates (except year), geographic subdivisions smaller than state\n  - Contact information (phone, fax, email, addresses)\n  - Social Security numbers, medical record numbers, account numbers\n  - Biometric identifiers, photos, other unique identifiers\n- Access limited to those with treatment, payment, or operations need\n- Patient authorization for non-routine disclosures\n\n#### Billing and Reimbursement Support\n- ICD-10 diagnosis codes for all conditions\n- CPT codes for procedures\n- Documentation of medical necessity\n- Justification for level of service\n- Compliance with payer-specific requirements\n\n#### Quality Measure Reporting\nEnable extraction of quality metrics:\n- HEDIS measures (diabetes HbA1c testing, BP control, etc.)\n- CMS quality reporting (MIPS, ACO measures)\n- Disease-specific quality indicators\n- Patient safety indicators\n\n#### Liability Protection\nDefensible documentation includes:\n- Rationale for clinical decisions\n- Consideration of differential diagnosis\n- Risk-benefit analysis\n- Patient education and warnings\n- Follow-up plan for abnormal findings\n- Addressing non-adherence or patient refusal\n\n## Professional Practice Standards\n\n### Joint Commission Standards\n\n#### Patient-Centered Care\n- Treatment plans developed with patient participation\n- Goals reflect patient values and preferences\n- Cultural and linguistic needs addressed\n- Health literacy appropriate communication\n\n#### Multidisciplinary Coordination\n- Input from relevant disciplines\n- Clear role delineation\n- Communication among team members\n- Coordinated interventions\n\n#### Evidence-Based Practice\n- Interventions based on current evidence\n- Clinical practice guidelines followed\n- Variation from guidelines documented and justified\n- Literature supports treatment choices\n\n### Commission on Accreditation of Rehabilitation Facilities (CARF)\n\nFor rehabilitation treatment plans:\n- Individualized based on comprehensive assessment\n- Measurable, achievable, time-specific goals\n- Regular team review and modification\n- Patient and family involvement\n- Transition and discharge planning\n\n### Centers for Medicare & Medicaid Services (CMS)\n\n#### Conditions of Participation\n- Physician orders for treatment\n- Periodic review and revision\n- Progress toward goals documented\n- Care plan accessible to all team members\n\n#### Documentation Requirements\n- Legible (typed or clear handwriting)\n- Dated and authenticated (signed)\n- Amendments/corrections properly marked\n- Retention per state law (typically 7-10 years, longer for minors)\n\n## Medical Specialty Standards\n\n### Primary Care\n- Annual comprehensive assessment and plan update\n- Chronic disease management protocols\n- Preventive care integration\n- Medication reconciliation\n- Care coordination with specialists\n\n### Behavioral Health\n- Mental status examination\n- Psychiatric diagnoses per DSM-5 criteria\n- Suicide/homicide risk assessment and safety planning\n- Measurable behavioral outcomes\n- Crisis intervention plan\n- Substance use assessment\n- 42 CFR Part 2 compliance for substance use treatment\n\n### Rehabilitation\n- Functional assessments (FIM, Barthel Index, etc.)\n- Activity limitations and participation restrictions\n- Short-term and long-term functional goals\n- Therapy frequency, intensity, duration\n- Home exercise program\n- Assistive devices and DME\n- Discharge criteria\n\n### Surgical/Perioperative\n- Indication for surgery documented\n- Preoperative risk assessment (ASA, RCRI)\n- Medical optimization plan\n- Enhanced Recovery After Surgery (ERAS) protocols when applicable\n- Postoperative milestones\n- Discharge criteria and planning\n\n### Pain Management\n- Comprehensive pain assessment (location, intensity, quality, temporal pattern, impact)\n- Pain type (nociceptive, neuropathic, mixed)\n- Multimodal analgesia approach\n- Opioid risk assessment (ORT, SOAPP)\n- If opioids: CDC guidelines compliance, treatment agreement, UDS, PDMP\n- Functional goals (not just pain scores)\n- Psychological screening and intervention\n\n## Quality Indicators for Treatment Plans\n\n### Completeness Metrics\n- All required sections present (100%)\n- Goals meet SMART criteria ($\\geq$90%)\n- Interventions have clear rationales ($\\geq$95%)\n- Monitoring plan includes frequency ($\\geq$95%)\n- Patient education documented (100%)\n\n### Clinical Quality Metrics\n- Evidence-based interventions ($\\geq$90%)\n- Guideline-concordant care ($\\geq$85%)\n- Avoidance of low-value care (100%)\n- Appropriate preventive care included ($\\geq$95%)\n\n### Patient-Centered Metrics\n- Patient preferences documented ($\\geq$90%)\n- Shared decision-making noted ($\\geq$85%)\n- Culturally appropriate care (100%)\n- Health literacy addressed ($\\geq$90%)\n\n### Safety Metrics\n- Risk mitigation strategies present (100%)\n- Medication safety addressed (100%)\n- Emergency procedures documented (100%)\n- Red flags/warning signs communicated (100%)\n\n## Common Documentation Deficiencies and Solutions\n\n### Problem: Vague Goals\n**Deficiency**: \"Improve diabetes\"  \n**Solution**: \"Reduce HbA1c from 8.5% to <7% within 3 months through medication intensification and lifestyle modification\"\n\n### Problem: Missing Rationales\n**Deficiency**: Lists medications without explanation  \n**Solution**: \"Metformin 1000mg BID - first-line therapy for T2DM, reduces hepatic glucose production, target dose for HbA1c reduction\"\n\n### Problem: No Timeline\n**Deficiency**: Goals without timeframes  \n**Solution**: \"Short-term (3 months): HbA1c <7.5%; Long-term (6 months): HbA1c <7%\"\n\n### Problem: Incomplete Monitoring\n**Deficiency**: \"Monitor labs\"  \n**Solution**: \"HbA1c every 3 months until at goal, then every 6 months; CMP every 6 months to monitor renal function on metformin and ACE inhibitor\"\n\n### Problem: Absent Patient Education\n**Deficiency**: No documentation of education provided  \n**Solution**: Dedicated section documenting: condition education, self-management skills taught, warning signs communicated, resources provided\n\n### Problem: Missing Safety Planning\n**Deficiency**: No risk mitigation  \n**Solution**: Specific safety concerns addressed (e.g., hypoglycemia risk with insulin, monitoring plan, patient taught recognition and treatment)\n\n## Electronic Health Record (EHR) Integration\n\n### Structured Data Entry\n- Use templates for consistency\n- Coded diagnoses (ICD-10), procedures (CPT)\n- Structured goals enable outcome tracking\n- Discrete medication fields (name, dose, route, frequency)\n\n### Clinical Decision Support\n- Evidence-based order sets\n- Drug-drug interaction alerts\n- Guideline reminders\n- Quality measure tracking\n\n### Care Plan Sharing\n- Patient portal access (patient-friendly version)\n- Interoperability standards (C-CDA)\n- Shared with care team\n- Transitions of care summary\n\n## Audit and Peer Review\n\n### Internal Quality Review\n- Random sample chart audits (e.g., 5% quarterly)\n- Checklist-based review (completeness, quality)\n- Feedback to providers\n- Continuous quality improvement\n\n### External Review\n- Payer audits (documentation supports billing)\n- Regulatory surveys (Joint Commission, CMS)\n- Malpractice case review\n- Peer review for privileging/credentialing\n\n### Audit Criteria\n- Documentation completeness\n- Clinical appropriateness\n- Regulatory compliance\n- Billing integrity\n- Patient safety\n\n## Treatment Plan Revision and Updates\n\n### When to Update Treatment Plans\n\n**Scheduled Updates**:\n- Chronic disease management: Every 3-6 months minimum\n- Behavioral health: Every 30-90 days depending on acuity\n- Rehabilitation: Weekly to biweekly during active therapy\n- Annual comprehensive update for all chronic conditions\n\n**Triggered Updates**:\n- Significant change in clinical status\n- New diagnosis\n- Treatment goals achieved or not progressing\n- Patient request or preference change\n- Hospitalization or emergency department visit\n- Medication changes or adverse events\n\n### Documentation of Changes\n- Date of revision\n- Reason for update\n- What changed (goals, interventions, timeline)\n- Provider signature\n- Maintain prior versions for record\n\n## Specialty-Specific Requirements\n\n### Diabetes Management Plans\n- HbA1c targets individualized\n- Complication screening schedule (eyes, feet, kidneys)\n- Self-monitoring blood glucose frequency\n- Hypoglycemia recognition and treatment\n- Sick day management\n\n### Heart Failure Plans\n- GDMT (guideline-directed medical therapy) checklist\n- Volume management (daily weights, fluid/sodium restriction)\n- NYHA functional class documentation\n- Device therapy consideration\n- Hospitalization triggers\n\n### Mental Health Treatment Plans\n- DSM-5 diagnostic criteria met\n- Suicide/violence risk assessment\n- Safety planning\n- Psychotherapy modality and frequency\n- Medication trials and responses\n- Functional goals (return to work, relationships)\n\n### Chronic Pain Plans\n- Comprehensive pain assessment\n- Functional goals (not just pain scores)\n- Multimodal analgesia\n- Opioid risk assessment if prescribing\n- Physical and psychological interventions\n- Activity modification and pacing\n\n## Cultural Competence and Health Equity\n\n### Culturally Appropriate Care\n- Recognize cultural health beliefs and practices\n- Address language barriers (interpreter services)\n- Respect religious and cultural preferences in treatment\n- Consider social determinants of health (housing, food security, transportation)\n- Avoid assumptions based on stereotypes\n\n### Health Literacy\n- Assess patient understanding (teach-back method)\n- Use plain language, avoid medical jargon\n- Visual aids and written materials at appropriate reading level\n- Tailor education to patient's learning style\n\n### Addressing Disparities\n- Screen for social needs and barriers\n- Connect to community resources\n- Culturally tailored interventions when evidence supports\n- Track outcomes by demographic groups, address disparities\n\n## References and Guidelines\n\n### General Standards\n- Joint Commission Standards Manual\n- CMS Conditions of Participation\n- State medical board documentation requirements\n\n### Specialty Guidelines\n- American College of Physicians (ACP)\n- American Academy of Family Physicians (AAFP)\n- American Psychiatric Association (APA)\n- American Physical Therapy Association (APTA)\n- Disease-specific societies (ADA, AHA, ACC, etc.)\n\n### Regulatory\n- HIPAA Privacy Rule (45 CFR Part 160, 164)\n- 42 CFR Part 2 (Substance Use Disorder Confidentiality)\n- 21 CFR Part 11 (Electronic Records, applicable for research/trials)\n- State scope of practice laws\n\n---\n\n**Document Version**: 1.0  \n**Last Updated**: January 2025  \n**Next Review**: January 2026\n\n",
      "word_count": 2214,
      "skill_count": 1,
      "skills_using": [
        "treatment-plans"
      ]
    }
  ]
}
